var NS=Object.defineProperty,PS=Object.defineProperties;var OS=Object.getOwnPropertyDescriptors;var i_=Object.getOwnPropertySymbols;var kS=Object.prototype.hasOwnProperty,FS=Object.prototype.propertyIsEnumerable;var s_=(t,e,n)=>e in t?NS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})kS.call(e,n)&&s_(t,n,e[n]);if(i_)for(var n of i_(e))FS.call(e,n)&&s_(t,n,e[n]);return t},ae=(t,e)=>PS(t,OS(e));var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var o_=null;var Kd=1,Qd=Symbol("SIGNAL");function te(t){let e=o_;return o_=t,e}var a_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function VS(t){if(!(Zd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kd)){if(!t.producerMustRecompute(t)&&!Yd(t)){t.dirty=!1,t.lastCleanEpoch=Kd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kd}}function c_(t){return t&&(t.nextProducerIndex=0),te(t)}function u_(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Zd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Jd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yd(t){$a(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(VS(n),r!==n.version))return!0}return!1}function l_(t){if($a(t),Zd(t))for(let e=0;e<t.producerNode.length;e++)Jd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Jd(t,e){if(LS(t),$a(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Jd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$a(i),i.producerIndexOfThis[r]=e}}function Zd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $a(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function LS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function US(){throw new Error}var jS=US;function d_(t){jS=t}function F(t){return typeof t=="function"}function fi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ha=fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ir(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ie=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(s){e=s instanceof Ha?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{h_(s)}catch(o){e=e??[],o instanceof Ha?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ha(e)}}add(e){var n;if(e&&e!==this)if(this.closed)h_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ir(n,e)}remove(e){let{_finalizers:n}=this;n&&Ir(n,e),e instanceof t&&e._removeParent(this)}};Ie.EMPTY=(()=>{let t=new Ie;return t.closed=!0,t})();var Xd=Ie.EMPTY;function qa(t){return t instanceof Ie||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function h_(t){F(t)?t():t.unsubscribe()}var Nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var pi={setTimeout(t,e,...n){let{delegate:r}=pi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=pi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ga(t){pi.setTimeout(()=>{let{onUnhandledError:e}=Nt;if(e)e(t);else throw t})}function Us(){}var f_=eh("C",void 0,void 0);function p_(t){return eh("E",void 0,t)}function g_(t){return eh("N",t,void 0)}function eh(t,e,n){return{kind:t,value:e,error:n}}var wr=null;function gi(t){if(Nt.useDeprecatedSynchronousErrorHandling){let e=!wr;if(e&&(wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=wr;if(wr=null,n)throw r}}else t()}function m_(t){Nt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=t)}var Er=class extends Ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qa(e)&&e.add(this)):this.destination=HS}static create(e,n,r){return new mi(e,n,r)}next(e){this.isStopped?nh(g_(e),this):this._next(e)}error(e){this.isStopped?nh(p_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?nh(f_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},BS=Function.prototype.bind;function th(t,e){return BS.call(t,e)}var rh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){za(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){za(r)}else za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){za(n)}}},mi=class extends Er{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Nt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&th(e.next,s),error:e.error&&th(e.error,s),complete:e.complete&&th(e.complete,s)}):i=e}this.destination=new rh(i)}};function za(t){Nt.useDeprecatedSynchronousErrorHandling?m_(t):Ga(t)}function $S(t){throw t}function nh(t,e){let{onStoppedNotification:n}=Nt;n&&pi.setTimeout(()=>n(t,e))}var HS={closed:!0,next:Us,error:$S,complete:Us};var yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ze(t){return t}function Wa(...t){return ih(t)}function ih(t){return t.length===0?Ze:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=GS(n)?n:new mi(n,r,i);return gi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=y_(r),new r((i,s)=>{let o=new mi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[yi](){return this}pipe(...n){return ih(n)(this)}toPromise(n){return n=y_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function y_(t){var e;return(e=t??Nt.Promise)!==null&&e!==void 0?e:Promise}function qS(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function GS(t){return t&&t instanceof Er||qS(t)&&qa(t)}function sh(t){return F(t?.lift)}function $(t){return e=>{if(sh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,i){return new oh(t,e,n,r,i)}var oh=class extends Er{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function vi(){return $((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var _i=class extends z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ie;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ie.EMPTY)}return e}refCount(){return vi()(this)}};var v_=fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ka(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new v_}next(n){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Xd:(this.currentObservers=null,s.push(n),new Ie(()=>{this.currentObservers=null,Ir(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new z;return n.source=this,n}}return t.create=(e,n)=>new Ka(e,n),t})(),Ka=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Xd}};var Le=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ah={now(){return(ah.delegate||Date).now()},delegate:void 0};var Qa=class extends Ie{constructor(e,n){super()}schedule(e,n=0){return this}};var js={setInterval(t,e,...n){let{delegate:r}=js;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=js;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ii=class extends Qa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return js.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&js.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};wi.now=ah.now;var Ei=class extends wi{constructor(e,n=wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Bs=new Ei(Ii);var Ya=class extends Ii{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ja=class extends Ei{};var ch=new Ja(Ya);var yt=new z(t=>t.complete());function __(t){return t&&F(t.schedule)}function I_(t){return t[t.length-1]}function Za(t){return F(I_(t))?t.pop():void 0}function jn(t){return __(I_(t))?t.pop():void 0}function uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function E_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function w_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dr(t){return this instanceof Dr?(this.v=t,this):new Dr(t)}function D_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(m,v){s.push([h,f,m,v])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof Dr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function C_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof w_=="function"?w_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Xa=t=>t&&typeof t.length=="number"&&typeof t!="function";function ec(t){return F(t?.then)}function tc(t){return F(t[yi])}function nc(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function rc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ic=zS();function sc(t){return F(t?.[ic])}function oc(t){return D_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Dr(n.read());if(i)return yield Dr(void 0);yield yield Dr(r)}}finally{n.releaseLock()}})}function ac(t){return F(t?.getReader)}function Ee(t){if(t instanceof z)return t;if(t!=null){if(tc(t))return WS(t);if(Xa(t))return KS(t);if(ec(t))return QS(t);if(nc(t))return T_(t);if(sc(t))return YS(t);if(ac(t))return JS(t)}throw rc(t)}function WS(t){return new z(e=>{let n=t[yi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KS(t){return new z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function QS(t){return new z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ga)})}function YS(t){return new z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function T_(t){return new z(e=>{ZS(t,e).catch(n=>e.error(n))})}function JS(t){return T_(oc(t))}function ZS(t,e){var n,r,i,s;return E_(this,void 0,void 0,function*(){try{for(n=C_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function rt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Bn(t,e=0){return $((n,r)=>{n.subscribe(j(r,i=>rt(r,t,()=>r.next(i),e),()=>rt(r,t,()=>r.complete(),e),i=>rt(r,t,()=>r.error(i),e)))})}function $n(t,e=0){return $((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function b_(t,e){return Ee(t).pipe($n(e),Bn(e))}function S_(t,e){return Ee(t).pipe($n(e),Bn(e))}function A_(t,e){return new z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function R_(t,e){return new z(n=>{let r;return rt(n,e,()=>{r=t[ic](),rt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function cc(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(n=>{rt(n,e,()=>{let r=t[Symbol.asyncIterator]();rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function M_(t,e){return cc(oc(t),e)}function x_(t,e){if(t!=null){if(tc(t))return b_(t,e);if(Xa(t))return A_(t,e);if(ec(t))return S_(t,e);if(nc(t))return cc(t,e);if(sc(t))return R_(t,e);if(ac(t))return M_(t,e)}throw rc(t)}function pe(t,e){return e?x_(t,e):Ee(t)}function N(...t){let e=jn(t);return pe(t,e)}function Di(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new z(e?i=>e.schedule(r,0,i):r)}function lh(t){return!!t&&(t instanceof z||F(t.lift)&&F(t.subscribe))}var En=fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function B(t,e){return $((n,r)=>{let i=0;n.subscribe(j(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:XS}=Array;function eA(t,e){return XS(e)?t(...e):t(e)}function uc(t){return B(e=>eA(t,e))}var{isArray:tA}=Array,{getPrototypeOf:nA,prototype:rA,keys:iA}=Object;function lc(t){if(t.length===1){let e=t[0];if(tA(e))return{args:e,keys:null};if(sA(e)){let n=iA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function sA(t){return t&&typeof t=="object"&&nA(t)===rA}function dc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $s(...t){let e=jn(t),n=Za(t),{args:r,keys:i}=lc(t);if(r.length===0)return pe([],e);let s=new z(oA(r,e,i?o=>dc(i,o):Ze));return n?s.pipe(uc(n)):s}function oA(t,e,n=Ze){return r=>{N_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)N_(e,()=>{let u=pe(t[c],e),l=!1;u.subscribe(j(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function N_(t,e,n){t?rt(n,t,e):e()}function P_(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=v=>u<r?m(v):c.push(v),m=v=>{s&&e.next(v),u++;let _=!1;Ee(n(v,l++)).subscribe(j(e,T=>{i?.(T),s?f(T):e.next(T)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){let T=c.shift();o?rt(e,o,()=>m(T)):m(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(j(e,f,()=>{d=!0,h()})),()=>{a?.()}}function De(t,e,n=1/0){return F(e)?De((r,i)=>B((s,o)=>e(r,s,i,o))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),$((r,i)=>P_(r,i,t,n)))}function Ci(t=1/0){return De(Ze,t)}function O_(){return Ci(1)}function Ti(...t){return O_()(pe(t,jn(t)))}function hc(t){return new z(e=>{Ee(t()).subscribe(e)})}function dh(...t){let e=Za(t),{args:n,keys:r}=lc(t),i=new z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Ee(n[l]).subscribe(j(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?dc(r,a):a),s.complete())}))}});return e?i.pipe(uc(e)):i}function Ue(t,e){return $((n,r)=>{let i=0;n.subscribe(j(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Hn(t){return $((e,n)=>{let r=null,i=!1,s;r=e.subscribe(j(n,void 0,void 0,o=>{s=Ee(t(o,Hn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function k_(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(j(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Cr(t,e){return F(e)?De(t,e,1):De(t,1)}function fc(t,e=Bs){return $((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(j(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function qn(t){return $((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>yt:$((e,n)=>{let r=0;e.subscribe(j(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hh(t){return B(()=>t)}function Hs(t,e=Ze){return t=t??aA,$((n,r)=>{let i,s=!0;n.subscribe(j(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function aA(t,e){return t===e}function pc(t=cA){return $((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cA(){return new En}function qs(t){return $((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,s)=>t(i,s,r)):Ze,Dn(1),n?qn(e):pc(()=>new En))}function bi(t){return t<=0?()=>yt:$((e,n)=>{let r=[];e.subscribe(j(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,s)=>t(i,s,r)):Ze,bi(1),n?qn(e):pc(()=>new En))}function gc(t,e){return $(k_(t,e,arguments.length>=2,!0))}function mc(...t){let e=jn(t);return $((n,r)=>{(e?Ti(t,n,e):Ti(t,n)).subscribe(r)})}function vt(t,e){return $((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(j(r,c=>{i?.unsubscribe();let u=0,l=s++;Ee(t(c,l)).subscribe(i=j(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ph(t){return $((e,n)=>{Ee(t).subscribe(j(n,()=>n.complete(),Us)),!n.closed&&e.subscribe(n)})}function Ce(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?$((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(j(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ze}var II="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(_f(e,n)),this.code=e}};function _f(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var xh=class extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=te(null);try{super.next(e)}finally{te(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=gh(s),i&&(i=gh(i)),o&&(o=gh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ie&&e.add(a),a}};function gh(t){return e=>{setTimeout(t,void 0,e)}}var xe=xh;var H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(H||{});function it(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function F_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var wI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wI||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{});function no(t){return{toString:t}.toString()}var Tr=globalThis;var Pi={},It=[];function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function uA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var lA=ce({\u0275cmp:ce}),dA=ce({\u0275dir:ce}),hA=ce({\u0275pipe:ce}),fA=ce({\u0275mod:ce}),bc=ce({\u0275fac:ce}),Gs=ce({__NG_ELEMENT_ID__:ce}),V_=ce({__NG_ENV_ID__:ce}),me=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(me||{});function EI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Nh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];pA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function DI(t){return t===3||t===4||t===6}function pA(t){return t.charCodeAt(0)===64}function zs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?L_(t,n,i,null,e[++r]):L_(t,n,i,null,null))}}return t}function L_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var CI="ng-template";function gA(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&EI(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function TI(t){return t.type===4&&t.value!==CI}function mA(t,e,n){let r=t.type===4&&!n?CI:t.value;return e===r}function yA(t,e,n){let r=4,i=t.attrs||[],s=IA(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Pt(r)&&!Pt(c))return!1;if(o&&Pt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!mA(t,c,n)||c===""&&e.length===1){if(Pt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!gA(t.attrs,u,n)){if(Pt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=vA(l,i,TI(t),n);if(d===-1){if(Pt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&EI(f,u,0)!==-1||r&2&&u!==h){if(Pt(r))return!1;o=!0}}}}return Pt(r)||o}function Pt(t){return(t&1)===0}function vA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return wA(e,t)}function _A(t,e,n=!1){for(let r=0;r<e.length;r++)if(yA(t,e[r],n))return!0;return!1}function IA(t){for(let e=0;e<t.length;e++){let n=t[e];if(DI(n))return e}return t.length}function wA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function U_(t,e){return t?":not("+e.trim()+")":e}function EA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Pt(o)&&(e+=U_(s,i),i=""),r=o,s=s||!Pt(r);n++}return i!==""&&(e+=U_(s,i)),e}function DA(t){return t.map(EA).join(",")}function CA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Pt(i))break;i=s}r++}return{attrs:e,classes:n}}function tn(t){return no(()=>{let e=MI(t),n=ae(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||It,_:null,schemas:t.schemas||null,tView:null,id:""});xI(n);let r=t.dependencies;return n.directiveDefs=B_(r,!1),n.pipeDefs=B_(r,!0),n.id=SA(n),n})}function TA(t){return Wn(t)||bI(t)}function bA(t){return t!==null}function Et(t){return no(()=>({type:t.type,bootstrap:t.bootstrap||It,declarations:t.declarations||It,imports:t.imports||It,exports:t.exports||It,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function j_(t,e){if(t==null)return Pi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=me.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==me.None?[r,a]:r,e[s]=o):n[s]=r}return n}function je(t){return no(()=>{let e=MI(t);return xI(e),e})}function Wn(t){return t[lA]||null}function bI(t){return t[dA]||null}function SI(t){return t[hA]||null}function AI(t){let e=Wn(t)||bI(t)||SI(t);return e!==null?e.standalone:!1}function RI(t,e){let n=t[fA]||null;if(!n&&e===!0)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function MI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Pi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||It,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:j_(t.inputs,e),outputs:j_(t.outputs),debugInfo:null}}function xI(t){t.features?.forEach(e=>e(t))}function B_(t,e){if(!t)return null;let n=e?SI:TA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bA)}function SA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Sn=0,Y=1,P=2,ze=3,Ot=4,Ft=5,Sc=6,Ws=7,kt=8,Oi=9,Cn=10,Ae=11,Ks=12,$_=13,$i=14,Zt=15,zc=16,Si=17,ki=18,Wc=19,NI=20,zn=21,mh=22,Ar=23,Kn=25,PI=1;var Rr=7,Ac=8,Rc=9,wt=10,If=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(If||{});function br(t){return Array.isArray(t)&&typeof t[PI]=="object"}function An(t){return Array.isArray(t)&&t[PI]===!0}function OI(t){return(t.flags&4)!==0}function Kc(t){return t.componentOffset>-1}function wf(t){return(t.flags&1)===1}function Qn(t){return!!t.template}function AA(t){return(t[P]&512)!==0}var RA="svg",MA="math",xA=!1;function NA(){return xA}function Xt(t){for(;Array.isArray(t);)t=t[Sn];return t}function kI(t,e){return Xt(e[t])}function Dt(t,e){return Xt(e[t.index])}function FI(t,e){return t.data[e]}function Jn(t,e){let n=e[t];return br(n)?n:n[Sn]}function Ef(t){return(t[P]&128)===128}function PA(t){return An(t[ze])}function Mc(t,e){return e==null?null:t[e]}function VI(t){t[Si]=0}function OA(t){t[P]&1024||(t[P]|=1024,Ef(t)&&Qs(t))}function kA(t,e){for(;t>0;)e=e[$i],t--;return e}function Df(t){return!!(t[P]&9216||t[Ar]?.dirty)}function Ph(t){Df(t)?Qs(t):t[P]&64&&(NA()?(t[P]|=1024,Qs(t)):t[Cn].changeDetectionScheduler?.notify())}function Qs(t){t[Cn].changeDetectionScheduler?.notify();let e=Ys(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Ef(e)));)e=Ys(e)}function LI(t,e){if((t[P]&256)===256)throw new b(911,!1);t[zn]===null&&(t[zn]=[]),t[zn].push(e)}function FA(t,e){if(t[zn]===null)return;let n=t[zn].indexOf(e);n!==-1&&t[zn].splice(n,1)}function Ys(t){let e=t[ze];return An(e)?e[ze]:e}var W={lFrame:GI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function VA(){return W.lFrame.elementDepthCount}function LA(){W.lFrame.elementDepthCount++}function UA(){W.lFrame.elementDepthCount--}function UI(){return W.bindingsEnabled}function jA(){return W.skipHydrationRootTNode!==null}function BA(t){return W.skipHydrationRootTNode===t}function $A(){W.skipHydrationRootTNode=null}function he(){return W.lFrame.lView}function dt(){return W.lFrame.tView}function Qc(t){return W.lFrame.contextLView=t,t[kt]}function Yc(t){return W.lFrame.contextLView=null,t}function st(){let t=jI();for(;t!==null&&t.type===64;)t=t.parent;return t}function jI(){return W.lFrame.currentTNode}function HA(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ro(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function BI(){return W.lFrame.isParent}function qA(){W.lFrame.isParent=!1}function GA(t){return W.lFrame.bindingIndex=t}function Jc(){return W.lFrame.bindingIndex++}function zA(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function WA(){return W.lFrame.inI18n}function KA(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,Oh(e)}function QA(){return W.lFrame.currentDirectiveIndex}function Oh(t){W.lFrame.currentDirectiveIndex=t}function YA(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $I(t){W.lFrame.currentQueryIndex=t}function JA(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[Ft]:null}function HI(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&H.Host);)if(i=JA(s),i===null||(s=s[$i],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=W.lFrame=qI();return r.currentTNode=e,r.lView=t,!0}function Cf(t){let e=qI(),n=t[Y];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qI(){let t=W.lFrame,e=t===null?null:t.child;return e===null?GI(t):e}function GI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zI(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var WI=zI;function Tf(){let t=zI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ZA(t){return(W.lFrame.contextLView=kA(t,W.lFrame.contextLView))[kt]}function Hi(){return W.lFrame.selectedIndex}function Mr(t){W.lFrame.selectedIndex=t}function bf(){let t=W.lFrame;return FI(t.tView,t.selectedIndex)}function XA(){return W.lFrame.currentNamespace}var KI=!0;function Sf(){return KI}function Af(t){KI=t}function eR(){return Zc(st(),he())}function Zc(t,e){return new Rn(Dt(t,e))}var Rn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=eR;let t=e;return t})();function Rf(t,e){t.forEach(n=>Array.isArray(n)?Rf(n,e):e(n))}function QI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function nR(t,e,n){let r=io(t,e);return r>=0?t[r|1]=n:(r=~r,tR(t,r,e,n)),r}function yh(t,e){let n=io(t,e);if(n>=0)return t[n|1]}function io(t,e){return rR(t,e,1)}function rR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}function YI(t){return(t.flags&128)===128}var kh;function JI(t){kh=t}function iR(){if(kh!==void 0)return kh;if(typeof document<"u")return document;throw new b(210,!1)}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xc(t){return H_(t,XI)||H_(t,ew)}function ZI(t){return Xc(t)!==null}function H_(t,e){return t.hasOwnProperty(e)?t[e]:null}function sR(t){let e=t&&(t[XI]||t[ew]);return e||null}function q_(t){return t&&(t.hasOwnProperty(G_)||t.hasOwnProperty(oR))?t[G_]:null}var XI=ce({\u0275prov:ce}),G_=ce({\u0275inj:ce}),ew=ce({ngInjectableDef:ce}),oR=ce({ngInjectorDef:ce}),M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Mf=new M("",{providedIn:"root",factory:()=>aR}),aR="ng",xf=new M(""),nn=new M("",{providedIn:"platform",factory:()=>"unknown"});var Nf=new M("",{providedIn:"root",factory:()=>iR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cR=ce({__forward_ref__:ce});function Mn(t){return t.__forward_ref__=Mn,t.toString=function(){return it(this())},t}function Xe(t){return tw(t)?t():t}function tw(t){return typeof t=="function"&&t.hasOwnProperty(cR)&&t.__forward_ref__===Mn}function nw(t){return t&&!!t.\u0275providers}function eu(t){return typeof t=="string"?t:t==null?"":String(t)}function uR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():eu(t)}function lR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function Pf(t,e){throw new b(-201,!1)}var Fh;function rw(){return Fh}function _t(t){let e=Fh;return Fh=t,e}function iw(t,e,n){let r=Xc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&H.Optional)return null;if(e!==void 0)return e;Pf(t,"Injector")}var dR={},Js=dR,Vh="__NG_DI_FLAG__",Nc="ngTempTokenPath",hR="ngTokenPath",fR=/\n/gm,pR="\u0275",z_="__source",xi;function gR(){return xi}function Gn(t){let e=xi;return xi=t,e}function mR(t,e=H.Default){if(xi===void 0)throw new b(-203,!1);return xi===null?iw(t,void 0,e):xi.get(t,e&H.Optional?null:void 0,e)}function O(t,e=H.Default){return(rw()||mR)(Xe(t),e)}function I(t,e=H.Default){return O(t,tu(e))}function tu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Lh(t){let e=[];for(let n=0;n<t.length;n++){let r=Xe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){let a=r[o],c=yR(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function sw(t,e){return t[Vh]=e,t.prototype[Vh]=e,t}function yR(t){return t[Vh]}function vR(t,e,n,r){let i=t[Nc];throw e[z_]&&i.unshift(e[z_]),t.message=_R(`
`+t.message,i,n,r),t[hR]=i,t[Nc]=null,t}function _R(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pR?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fR,`
  `)}`}var IR="h",wR="b";var ER=()=>null;function Of(t,e,n=!1){return ER(t,e,n)}var yc="__parameters__";function DR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ow(t,e,n){return no(()=>{let r=DR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(yc)?c[yc]:Object.defineProperty(c,yc,{value:[]})[yc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Tt=sw(ow("Optional"),8);var kf=sw(ow("SkipSelf"),4);function Fi(t,e){let n=t.hasOwnProperty(bc);return n?t[bc]:null}var Vi=new M(""),aw=new M("",-1),cw=new M(""),Pc=class{get(e,n=Js){if(n===Js){let r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}};function nu(t){return{\u0275providers:t}}function Ff(...t){return{\u0275providers:uw(!0,t),\u0275fromNgModule:!0}}function uw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Rf(e,o=>{let a=o;Uh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&lw(i,s),n}function lw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vf(i,s=>{e(s,r)})}}function Uh(t,e,n,r){if(t=Xe(t),!t)return!1;let i=null,s=q_(t),o=!s&&Wn(t);if(!s&&!o){let c=t.ngModule;if(s=q_(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Uh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Rf(s.imports,l=>{Uh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&lw(u,e)}if(!a){let u=Fi(i)||(()=>new i);e({provide:i,useFactory:u,deps:It},i),e({provide:cw,useValue:i,multi:!0},i),e({provide:Vi,useValue:()=>O(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Vf(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Vf(t,e){for(let n of t)nw(n)&&(n=n.\u0275providers),Array.isArray(n)?Vf(n,e):e(n)}var CR=ce({provide:String,useValue:ce});function dw(t){return t!==null&&typeof t=="object"&&CR in t}function TR(t){return!!(t&&t.useExisting)}function bR(t){return!!(t&&t.useFactory)}function Li(t){return typeof t=="function"}function SR(t){return!!t.useClass}var ru=new M(""),wc={},AR={},vh;function Lf(){return vh===void 0&&(vh=new Pc),vh}var lt=class{},Zs=class extends lt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bh(e,o=>this.processProvider(o)),this.records.set(aw,Ai(void 0,this)),i.has("environment")&&this.records.set(lt,Ai(void 0,this));let s=this.records.get(ru);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cw,It,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Gn(this),r=_t(void 0),i;try{return e()}finally{Gn(n),_t(r)}}get(e,n=Js,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(V_))return e[V_](this);r=tu(r);let i,s=Gn(this),o=_t(void 0);try{if(!(r&H.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=PR(e)&&Xc(e);u&&this.injectableDefInScope(u)?c=Ai(jh(e),wc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&H.Self?Lf():this.parent;return n=r&H.Optional&&n===Js?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nc]=a[Nc]||[]).unshift(it(e)),s)throw a;return vR(a,e,"R3InjectorError",this.source)}else throw a}finally{_t(o),Gn(s)}}resolveInjectorInitializers(){let e=te(null),n=Gn(this),r=_t(void 0),i;try{let s=this.get(Vi,It,H.Self);for(let o of s)o()}finally{Gn(n),_t(r),te(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=Xe(e);let n=Li(e)?e:Xe(e&&e.provide),r=MR(e);if(!Li(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ai(void 0,wc,!0),i.factory=()=>Lh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=te(null);try{return n.value===wc&&(n.value=AR,n.value=n.factory()),typeof n.value=="object"&&n.value&&NR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Xe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jh(t){let e=Xc(t),n=e!==null?e.factory:Fi(t);if(n!==null)return n;if(t instanceof M)throw new b(204,!1);if(t instanceof Function)return RR(t);throw new b(204,!1)}function RR(t){if(t.length>0)throw new b(204,!1);let n=sR(t);return n!==null?()=>n.factory(t):()=>new t}function MR(t){if(dw(t))return Ai(void 0,t.useValue);{let e=hw(t);return Ai(e,wc)}}function hw(t,e,n){let r;if(Li(t)){let i=Xe(t);return Fi(i)||jh(i)}else if(dw(t))r=()=>Xe(t.useValue);else if(bR(t))r=()=>t.useFactory(...Lh(t.deps||[]));else if(TR(t))r=()=>O(Xe(t.useExisting));else{let i=Xe(t&&(t.useClass||t.provide));if(xR(t))r=()=>new i(...Lh(t.deps));else return Fi(i)||jh(i)}return r}function Ai(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xR(t){return!!t.deps}function NR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function PR(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function Bh(t,e){for(let n of t)Array.isArray(n)?Bh(n,e):n&&nw(n)?Bh(n.\u0275providers,e):e(n)}function Zn(t,e){t instanceof Zs&&t.assertNotDestroyed();let n,r=Gn(t),i=_t(void 0);try{return e()}finally{Gn(r),_t(i)}}function OR(t){if(!rw()&&!gR())throw new b(-203,!1)}function kR(t){return typeof t=="function"}var $h=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function fw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function rn(){return pw}function pw(t){return t.type.prototype.ngOnChanges&&(t.setInput=VR),FR}rn.ngInherit=!0;function FR(){let t=mw(this),e=t?.current;if(e){let n=t.previous;if(n===Pi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VR(t,e,n,r,i){let s=this.declaredInputs[r],o=mw(t)||LR(t,{previous:Pi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new $h(u&&u.currentValue,n,c===Pi),fw(t,e,i,n)}var gw="__ngSimpleChanges__";function mw(t){return t[gw]||null}function LR(t,e){return t[gw]=e}var W_=null;var Qt=function(t,e,n){W_?.(t,e,n)};function UR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=pw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Uf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ec(t,e,n){yw(t,e,3,n)}function Dc(t,e,n,r){(t[P]&3)===n&&yw(t,e,n,r)}function _h(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function yw(t,e,n,r){let i=r!==void 0?t[Si]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Si]+=65536),(a<s||s==-1)&&(jR(t,n,e,c),t[Si]=(t[Si]&4294901760)+c+2),c++}function K_(t,e){Qt(4,t,e);let n=te(null);try{e.call(t)}finally{te(n),Qt(5,t,e)}}function jR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[Si]>>16&&(t[P]&3)===e&&(t[P]+=16384,K_(a,s)):K_(a,s)}var Ni=-1,xr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function BR(t){return t instanceof xr}function $R(t){return(t.flags&8)!==0}function HR(t){return(t.flags&16)!==0}function vw(t){return t!==Ni}function Oc(t){return t&32767}function qR(t){return t>>16}function kc(t,e){let n=qR(t),r=e;for(;n>0;)r=r[$i],n--;return r}var Hh=!0;function Q_(t){let e=Hh;return Hh=t,e}var GR=256,_w=GR-1,Iw=5,zR=0,Yt={};function WR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gs)&&(r=n[Gs]),r==null&&(r=n[Gs]=zR++);let i=r&_w,s=1<<i;e.data[t+(i>>Iw)]|=s}function Fc(t,e){let n=ww(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,Ih(r.data,t),Ih(e,null),Ih(r.blueprint,null));let i=jf(t,e),s=t.injectorIndex;if(vw(i)){let o=Oc(i),a=kc(i,e),c=a[Y].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Ih(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ww(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bw(i),r===null)return Ni;if(n++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ni}function qh(t,e,n){WR(t,e,n)}function KR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(DI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Ew(t,e,n){if(n&H.Optional||t!==void 0)return t;Pf(e,"NodeInjector")}function Dw(t,e,n,r){if(n&H.Optional&&r===void 0&&(r=null),!(n&(H.Self|H.Host))){let i=t[Oi],s=_t(void 0);try{return i?i.get(e,r,n&H.Optional):iw(e,r,n&H.Optional)}finally{_t(s)}}return Ew(r,e,n)}function Cw(t,e,n,r=H.Default,i){if(t!==null){if(e[P]&2048&&!(r&H.Self)){let o=XR(t,e,n,r,Yt);if(o!==Yt)return o}let s=Tw(t,e,n,r,Yt);if(s!==Yt)return s}return Dw(e,n,r,i)}function Tw(t,e,n,r,i){let s=JR(n);if(typeof s=="function"){if(!HI(e,t,r))return r&H.Host?Ew(i,n,r):Dw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&H.Optional))Pf(n);else return o}finally{WI()}}else if(typeof s=="number"){let o=null,a=ww(t,e),c=Ni,u=r&H.Host?e[Zt][Ft]:null;for((a===-1||r&H.SkipSelf)&&(c=a===-1?jf(t,e):e[a+8],c===Ni||!J_(r,!1)?a=-1:(o=e[Y],a=Oc(c),e=kc(c,e)));a!==-1;){let l=e[Y];if(Y_(s,a,l.data)){let d=QR(a,e,n,o,r,u);if(d!==Yt)return d}c=e[a+8],c!==Ni&&J_(r,e[Y].data[a+8]===u)&&Y_(s,a,e)?(o=l,a=Oc(c),e=kc(c,e)):a=-1}}return i}function QR(t,e,n,r,i,s){let o=e[Y],a=o.data[t+8],c=r==null?Kc(a)&&Hh:r!=o&&(a.type&3)!==0,u=i&H.Host&&s===a,l=YR(a,o,n,c,u);return l!==null?Ui(e,o,l,a):Yt}function YR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let m=o[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(i){let f=o[c];if(f&&Qn(f)&&f.type===n)return c}return null}function Ui(t,e,n,r){let i=t[n],s=e.data;if(BR(i)){let o=i;o.resolving&&lR(uR(s[n]));let a=Q_(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?_t(o.injectImpl):null,l=HI(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&UR(n,s[n],e)}finally{u!==null&&_t(u),Q_(a),o.resolving=!1,WI()}}return i}function JR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Gs)?t[Gs]:void 0;return typeof e=="number"?e>=0?e&_w:ZR:e}function Y_(t,e,n){let r=1<<t;return!!(n[e+(t>>Iw)]&r)}function J_(t,e){return!(t&H.Self)&&!(t&H.Host&&e)}var Sr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Cw(this._tNode,this._lView,e,tu(r),n)}};function ZR(){return new Sr(st(),he())}function so(t){return no(()=>{let e=t.prototype.constructor,n=e[bc]||Gh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[bc]||Gh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gh(t){return tw(t)?()=>{let e=Gh(Xe(t));return e&&e()}:Fi(t)}function XR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=Tw(s,o,n,r|H.Self,Yt);if(a!==Yt)return a;let c=s.parent;if(!c){let u=o[NI];if(u){let l=u.get(n,Yt,r);if(l!==Yt)return l}c=bw(o),o=o[$i]}s=c}return i}function bw(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[Ft]:null}function Bf(t){return KR(st(),t)}function Z_(t,e=null,n=null,r){let i=Sw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Sw(t,e=null,n=null,r,i=new Set){let s=[n||It,Ff(t)];return r=r||(typeof t=="object"?void 0:it(t)),new Zs(s,e||Lf(),r||null,i)}var ot=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Z_({name:""},i,r,"");{let s=r.name??"";return Z_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Js,e.NULL=new Pc,e.\u0275prov=R({token:e,providedIn:"any",factory:()=>O(aw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),eM="ngOriginalError";function wh(t){return t[eM]}var en=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wh(e);for(;n&&wh(n);)n=wh(n);return n||null}},Aw=new M("",{providedIn:"root",factory:()=>I(en).handleError.bind(void 0)});var Rw=!1,tM=new M("",{providedIn:"root",factory:()=>Rw});var vc;function nM(){if(vc===void 0&&(vc=null,Tr.trustedTypes))try{vc=Tr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vc}function X_(t){return nM()?.createScriptURL(t)||t}var Vc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${II})`}};function oo(t){return t instanceof Vc?t.changingThisBreaksApplicationSecurity:t}function $f(t,e){let n=rM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${II})`)}return n===e}function rM(t){return t instanceof Vc&&t.getTypeName()||null}var iM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mw(t){return t=String(t),t.match(iM)?t:"unsafe:"+t}var iu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(iu||{});function sM(t){let e=Nw();return e?e.sanitize(iu.URL,t)||"":$f(t,"URL")?oo(t):Mw(eu(t))}function oM(t){let e=Nw();if(e)return X_(e.sanitize(iu.RESOURCE_URL,t)||"");if($f(t,"ResourceURL"))return X_(oo(t));throw new b(904,!1)}function aM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oM:sM}function xw(t,e,n){return aM(e,n)(t)}function Nw(){let t=he();return t&&t[Cn].sanitizer}var Pw=new Map,cM=0;function uM(){return cM++}function lM(t){Pw.set(t[Wc],t)}function dM(t){Pw.delete(t[Wc])}var eI="__ngContext__";function Nr(t,e){br(e)?(t[eI]=e[Wc],lM(e)):t[eI]=e}function Ow(t){return t instanceof Function?t():t}function hM(t){return(t??I(ot)).get(nn)==="browser"}var Tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tn||{}),fM;function Hf(t,e){return fM(t,e)}function Ri(t,e,n,r,i){if(r!=null){let s,o=!1;An(r)?s=r:br(r)&&(o=!0,r=r[Sn]);let a=Xt(r);t===0&&n!==null?i==null?Uw(e,n,a):Lc(e,n,a,i||null,!0):t===1&&n!==null?Lc(e,n,a,i||null,!0):t===2?MM(e,a,o):t===3&&e.destroyNode(a),s!=null&&NM(e,t,s,n,i)}}function pM(t,e){return t.createText(e)}function gM(t,e,n){t.setValue(e,n)}function kw(t,e,n){return t.createElement(e,n)}function mM(t,e){Fw(t,e),e[Sn]=null,e[Ft]=null}function yM(t,e,n,r,i,s){r[Sn]=i,r[Ft]=e,su(t,r,n,1,i,s)}function Fw(t,e){su(t,e,e[Ae],2,null,null)}function vM(t){let e=t[Ks];if(!e)return Eh(t[Y],t);for(;e;){let n=null;if(br(e))n=e[Ks];else{let r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)br(e)&&Eh(e[Y],e),e=e[ze];e===null&&(e=t),br(e)&&Eh(e[Y],e),n=e&&e[Ot]}e=n}}function _M(t,e,n,r){let i=wt+r,s=n.length;r>0&&(n[i-1][Ot]=e),r<s-wt?(e[Ot]=n[i],QI(n,wt+r,e)):(n.push(e),e[Ot]=null),e[ze]=n;let o=e[zc];o!==null&&n!==o&&IM(o,e);let a=e[ki];a!==null&&a.insertView(t),Ph(e),e[P]|=128}function IM(t,e){let n=t[Rc],i=e[ze][ze][Zt];e[Zt]!==i&&(t[P]|=If.HasTransplantedViews),n===null?t[Rc]=[e]:n.push(e)}function Vw(t,e){let n=t[Rc],r=n.indexOf(e);n.splice(r,1)}function zh(t,e){if(t.length<=wt)return;let n=wt+e,r=t[n];if(r){let i=r[zc];i!==null&&i!==t&&Vw(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let s=xc(t,wt+e);mM(r[Y],r);let o=s[ki];o!==null&&o.detachView(s[Y]),r[ze]=null,r[Ot]=null,r[P]&=-129}return r}function Lw(t,e){if(!(e[P]&256)){let n=e[Ae];n.destroyNode&&su(t,e,n,3,null,null),vM(e)}}function Eh(t,e){if(e[P]&256)return;let n=te(null);try{e[P]&=-129,e[P]|=256,e[Ar]&&l_(e[Ar]),EM(t,e),wM(t,e),e[Y].type===1&&e[Ae].destroy();let r=e[zc];if(r!==null&&An(e[ze])){r!==e[ze]&&Vw(r,e);let i=e[ki];i!==null&&i.detachView(t)}dM(e)}finally{te(n)}}function wM(t,e){let n=t.cleanup,r=e[Ws];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ws]=null);let i=e[zn];if(i!==null){e[zn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function EM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof xr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qt(4,a,c);try{c.call(a)}finally{Qt(5,a,c)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function DM(t,e,n){return CM(t,e.parent,n)}function CM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Sn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return Dt(r,n)}}function Lc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Uw(t,e,n){t.appendChild(e,n)}function tI(t,e,n,r,i){r!==null?Lc(t,e,n,r,i):Uw(t,e,n)}function TM(t,e,n,r){t.removeChild(e,n,r)}function qf(t,e){return t.parentNode(e)}function bM(t,e){return t.nextSibling(e)}function SM(t,e,n){return RM(t,e,n)}function AM(t,e,n){return t.type&40?Dt(t,n):null}var RM=AM,nI;function Gf(t,e,n,r){let i=DM(t,r,e),s=e[Ae],o=r.parent||e[Ft],a=SM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)tI(s,i,n[c],a,!1);else tI(s,i,n,a,!1);nI!==void 0&&nI(s,r,e,n,i)}function Cc(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return Wh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Cc(t,r);{let i=t[e.index];return An(i)?Wh(-1,i):Xt(i)}}else{if(n&32)return Hf(e,t)()||Xt(t[e.index]);{let r=jw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ys(t[Zt]);return Cc(i,r)}else return Cc(t,e.next)}}}return null}function jw(t,e){if(e!==null){let r=t[Zt][Ft],i=e.projection;return r.projection[i]}return null}function Wh(t,e){let n=wt+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return Cc(r,i)}return e[Rr]}function MM(t,e,n){let r=qf(t,e);r&&TM(t,r,e,n)}function zf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Nr(Xt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)zf(t,e,n.child,r,i,s,!1),Ri(e,t,i,a,s);else if(c&32){let u=Hf(n,r),l;for(;l=u();)Ri(e,t,i,l,s);Ri(e,t,i,a,s)}else c&16?xM(t,e,r,n,i,s):Ri(e,t,i,a,s);n=o?n.projectionNext:n.next}}function su(t,e,n,r,i,s){zf(n,r,t.firstChild,e,i,s,!1)}function xM(t,e,n,r,i,s){let o=n[Zt],c=o[Ft].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ri(e,t,i,l,s)}else{let u=c,l=o[ze];YI(r)&&(u.flags|=128),zf(t,e,u,l,i,s,!0)}}function NM(t,e,n,r,i){let s=n[Rr],o=Xt(n);s!==o&&Ri(e,t,r,s,i);for(let a=wt;a<n.length;a++){let c=n[a];su(c[Y],c,t,e,r,s)}}function PM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tn.Important),t.setStyle(n,r,i,s))}}function OM(t,e,n){t.setAttribute(e,"style",n)}function Bw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $w(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Nh(t,e,r),i!==null&&Bw(t,e,i),s!==null&&OM(t,e,s)}var qi={};function we(t=1){Hw(dt(),he(),Hi()+t,!1)}function Hw(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ec(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Dc(e,s,0,n)}Mr(n)}function S(t,e=H.Default){let n=he();if(n===null)return O(t,e);let r=st();return Cw(r,n,Xe(t),e)}function qw(){let t="invalid";throw new Error(t)}function Gw(t,e,n,r,i,s){let o=te(null);try{let a=null;i&me.SignalBased&&(a=e[r][Qd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&me.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):fw(e,a,r,s)}finally{te(o)}}function kM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Mr(~i);else{let s=i,o=n[++r],a=n[++r];KA(o,s);let c=e[s];a(2,c)}}}finally{Mr(-1)}}function ou(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Sn]=i,d[P]=r|4|128|8|64,(u!==null||t&&t[P]&2048)&&(d[P]|=2048),VI(d),d[ze]=d[$i]=t,d[kt]=n,d[Cn]=o||t&&t[Cn],d[Ae]=a||t&&t[Ae],d[Oi]=c||t&&t[Oi]||null,d[Ft]=s,d[Wc]=uM(),d[Sc]=l,d[NI]=u,d[Zt]=e.type==2?t[Zt]:d,d}function au(t,e,n,r,i){let s=t.data[e];if(s===null)s=FM(t,e,n,r,i),WA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=HA();s.injectorIndex=o===null?-1:o.injectorIndex}return ro(s,!0),s}function FM(t,e,n,r,i){let s=jI(),o=BI(),a=o?s:s&&s.parent,c=t.data[e]=BM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function zw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ww(t,e,n,r,i){let s=Hi(),o=r&2;try{Mr(-1),o&&e.length>Kn&&Hw(t,e,Kn,!1),Qt(o?2:0,i),n(r,i)}finally{Mr(s),Qt(o?3:1,i)}}function Kw(t,e,n){if(OI(e)){let r=te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{te(r)}}}function Qw(t,e,n){UI()&&(WM(t,e,n,Dt(n,e)),(n.flags&64)===64&&tE(t,e,n))}function Yw(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Jw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Wf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Wf(t,e,n,r,i,s,o,a,c,u,l){let d=Kn+r,h=d+i,f=VM(d,h),m=typeof u=="function"?u():u;return f[Y]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function VM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:qi);return n}function LM(t,e,n,r){let s=r.get(tM,Rw)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return UM(o),o}function UM(t){jM(t)}var jM=()=>null;function BM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return jA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=me.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?iI(r,n,u,a,c):iI(r,n,u,a)}return r}function iI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function $M(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;c=rI(0,d.inputs,l,c,f),u=rI(1,d.outputs,l,u,m);let v=c!==null&&o!==null&&!TI(e)?ix(c,l,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function HM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Zw(t,e,n,r,i,s,o,a){let c=Dt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Kf(t,n,l,r,i),Kc(e)&&qM(n,e.index)):e.type&3?(r=HM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function qM(t,e){let n=Jn(e,t);n[P]&16||(n[P]|=64)}function Xw(t,e,n,r){if(UI()){let i=r===null?null:{"":-1},s=QM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&eE(t,e,n,o,i,a),i&&YM(n,r,i)}n.mergedAttrs=zs(n.mergedAttrs,n.attrs)}function eE(t,e,n,r,i,s){for(let u=0;u<r.length;u++)qh(Fc(n,e),t,r[u].type);ZM(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=zw(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=zs(n.mergedAttrs,l.hostAttrs),XM(t,n,e,c,l),JM(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}$M(t,n,s)}function GM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;zM(o)!=a&&o.push(a),o.push(n,r,s)}}function zM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function WM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Kc(n)&&ex(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fc(n,e),Nr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Ui(e,t,a,n);if(Nr(u,e),o!==null&&rx(e,a-i,u,c,n,o),Qn(c)){let l=Jn(n.index,e);l[kt]=Ui(e,t,a,n)}}}function tE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=QA();try{Mr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Oh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&KM(c,u)}}finally{Mr(-1),Oh(o)}}function KM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function QM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(_A(e,o.selectors,!1))if(r||(r=[]),Qn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Kh(t,e,c)}else r.unshift(o),Kh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Kh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new b(-301,!1);r.push(e[i],s)}}}function JM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qn(e)&&(n[""]=t)}}function ZM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Fi(i.type,!0)),o=new xr(s,Qn(i),S);t.blueprint[r]=o,n[r]=o,GM(t,e,r,zw(t,n,i.hostVars,qi),i)}function ex(t,e,n){let r=Dt(e,t),i=Jw(n),s=t[Cn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=cu(t,ou(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function tx(t,e,n,r,i,s){let o=Dt(t,e);nx(e[Ae],o,s,t.value,n,r,i)}function nx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?eu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function rx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];Gw(r,n,c,u,l,d)}}function ix(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function nE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rE(t,e){let n=t.contentQueries;if(n!==null){let r=te(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];$I(s),a.contentQueries(2,e[o],o)}}}finally{te(r)}}}function cu(t,e){return t[Ks]?t[$_][Ot]=e:t[Ks]=e,t[$_]=e,e}function Qh(t,e,n){$I(0);let r=te(null);try{e(t,n)}finally{te(r)}}function sx(t){return t[Ws]||(t[Ws]=[])}function ox(t){return t.cleanup||(t.cleanup=[])}function iE(t,e){let n=t[Oi],r=n?n.get(en,null):null;r&&r.handleError(e)}function Kf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];Gw(l,u,r,a,c,i)}}function ax(t,e,n){let r=kI(e,t);gM(t[Ae],r,n)}function cx(t,e){let n=Jn(e,t),r=n[Y];ux(r,n);let i=n[Sn];i!==null&&n[Sc]===null&&(n[Sc]=Of(i,n[Oi])),Qf(r,n,n[kt])}function ux(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Qf(t,e,n){Cf(e);try{let r=t.viewQuery;r!==null&&Qh(1,r,n);let i=t.template;i!==null&&Ww(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ki]?.finishViewCreation(t),t.staticContentQueries&&rE(t,e),t.staticViewQueries&&Qh(2,t.viewQuery,n);let s=t.components;s!==null&&lx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,Tf()}}function lx(t,e){for(let n=0;n<e.length;n++)cx(t,e[n])}function dx(t,e,n,r){let i=te(null);try{let s=e.tView,a=t[P]&4096?4096:16,c=ou(t,s,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];c[zc]=u;let l=t[ki];return l!==null&&(c[ki]=l.createEmbeddedView(s)),Qf(s,c,n),c}finally{te(i)}}function sI(t,e){return!e||e.firstChild===null||YI(t)}function hx(t,e,n,r=!0){let i=e[Y];if(_M(i,e,t,n),r){let o=Wh(n,t),a=e[Ae],c=qf(a,t[Rr]);c!==null&&yM(i,t[Ft],a,e,c,o)}let s=e[Sc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Uc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Xt(s)),An(s)&&fx(s,r);let o=n.type;if(o&8)Uc(t,e,n.child,r);else if(o&32){let a=Hf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=jw(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ys(e[Zt]);Uc(c[Y],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fx(t,e){for(let n=wt;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&Uc(r[Y],r,i,e)}t[Rr]!==t[Sn]&&e.push(t[Rr])}var sE=[];function px(t){return t[Ar]??gx(t)}function gx(t){let e=sE.pop()??Object.create(yx);return e.lView=t,e}function mx(t){t.lView[Ar]!==t&&(t.lView=null,sE.push(t))}var yx=ae(D({},a_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qs(t.lView)},consumerOnSignalRead(){this.lView[Ar]=this}});function oE(t){return cE(t[Ks])}function aE(t){return cE(t[Ot])}function cE(t){for(;t!==null&&!An(t);)t=t[Ot];return t}var uE=100;function lE(t,e=!0,n=0){let r=t[Cn],i=r.rendererFactory,s=!1;s||i.begin?.();try{vx(t,n)}catch(o){throw e&&iE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function vx(t,e){Yh(t,e);let n=0;for(;Df(t);){if(n===uE)throw new b(103,!1);n++,Yh(t,1)}}function _x(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1;!s&&e[Cn].inlineEffectRunner?.flush(),Cf(e);let o=null,a=null;!s&&Ix(t)&&(a=px(e),o=c_(a));try{VI(e),GA(t.bindingStartIndex),n!==null&&Ww(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Ec(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Dc(e,d,0,null),_h(e,0)}if(wx(e),dE(e,0),t.contentQueries!==null&&rE(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Ec(e,d)}else{let d=t.contentHooks;d!==null&&Dc(e,d,1),_h(e,1)}kM(t,e);let u=t.components;u!==null&&fE(e,u,0);let l=t.viewQuery;if(l!==null&&Qh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Ec(e,d)}else{let d=t.viewHooks;d!==null&&Dc(e,d,2),_h(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[mh]){for(let d of e[mh])d();e[mh]=null}s||(e[P]&=-73)}catch(c){throw Qs(e),c}finally{a!==null&&(u_(a,o),mx(a)),Tf()}}function Ix(t){return t.type!==2}function dE(t,e){for(let n=oE(t);n!==null;n=aE(n))for(let r=wt;r<n.length;r++){let i=n[r];hE(i,e)}}function wx(t){for(let e=oE(t);e!==null;e=aE(e)){if(!(e[P]&If.HasTransplantedViews))continue;let n=e[Rc];for(let r=0;r<n.length;r++){let i=n[r],s=i[ze];OA(i)}}}function Ex(t,e,n){let r=Jn(e,t);hE(r,n)}function hE(t,e){Ef(t)&&Yh(t,e)}function Yh(t,e){let r=t[Y],i=t[P],s=t[Ar],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Yd(s)),s&&(s.dirty=!1),t[P]&=-9217,o)_x(r,t,r.template,t[kt]);else if(i&8192){dE(t,1);let a=r.components;a!==null&&fE(t,a,1)}}function fE(t,e,n){for(let r=0;r<e.length;r++)Ex(t,e[r],n)}function Yf(t){for(t[Cn].changeDetectionScheduler?.notify();t;){t[P]|=64;let e=Ys(t);if(AA(t)&&!e)return t;t=e}return null}var Pr=class{get rootNodes(){let e=this._lView,n=e[Y];return Uc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ze];if(An(e)){let n=e[Ac],r=n?n.indexOf(this):-1;r>-1&&(zh(e,r),xc(n,r))}this._attachedToViewContainer=!1}Lw(this._lView[Y],this._lView)}onDestroy(e){LI(this._lView,e)}markForCheck(){Yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[P]&=-129}reattach(){Ph(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,lE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Fw(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,Ph(this._lView)}},Jf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Tx;let t=e;return t})(),Dx=Jf,Cx=class extends Dx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=dx(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Pr(i)}};function Tx(){return bx(st(),he())}function bx(t,e){return t.type&4?new Cx(e,t,Zc(t,e)):null}var VG=new RegExp(`^(\\d+)*(${wR}|${IR})*(.*)`);var Sx=()=>null;function oI(t,e){return Sx(t,e)}var Jh=class{},Zh=class{},jc=class{};function Ax(t){let e=Error(`No component factory found for ${it(t)}.`);return e[Rx]=t,e}var Rx="ngComponent";var Xh=class{resolveComponentFactory(e){throw Ax(e)}},uu=(()=>{let e=class e{};e.NULL=new Xh;let t=e;return t})(),Xs=class{},Xn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Mx();let t=e;return t})();function Mx(){let t=he(),e=st(),n=Jn(e.index,t);return(br(n)?n:t)[Ae]}var xx=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Dh={},pE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Nx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ef=class extends pE{constructor(e){super(),this._lView=e}onDestroy(e){return LI(this._lView,e),()=>FA(this._lView,e)}};function Nx(){return new ef(he())}var aI=new Set;function Zf(t){aI.has(t)||(aI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function cI(...t){}function Px(){let t=typeof Tr.requestAnimationFrame=="function",e=Tr[t?"requestAnimationFrame":"setTimeout"],n=Tr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Px().nativeRequestAnimationFrame,Fx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ox,cI,cI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ox={};function Xf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tf(t),t.isCheckStableRunning=!0,Xf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tf(t))}function Fx(t){let e=()=>{kx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Vx(a))return n.invokeTask(i,s,o,a);try{return uI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lI(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return uI(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),lI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tf(t),Xf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lI(t){t._nesting--,Xf(t)}function Vx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Mi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Mi||{}),Lx={destroy(){}};function ep(t,e){!e&&OR(ep);let n=e?.injector??I(ot);if(!hM(n))return Lx;Zf("NgAfterNextRender");let r=n.get(tp),i=r.handler??=new rf,s=e?.phase??Mi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(pE).onDestroy(o),c=new nf(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var nf=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(ie),this.errorHandler=e.get(en,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},rf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Mi.EarlyRead]:new Set,[Mi.Write]:new Set,[Mi.MixedReadWrite]:new Set,[Mi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},tp=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=F_(i,a);else if(s==2){let c=a,u=e[++o];r=F_(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Bc=class extends uu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wn(e);return new ji(n,this.ngModule)}};function dI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Ux(t){let e=t.toLowerCase();return e==="svg"?RA:e==="math"?MA:null}var of=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=tu(r);let i=this.injector.get(e,Dh,r);return i!==Dh||n===Dh?i:this.parentInjector.get(e,n,r)}},ji=class extends jc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=dI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return dI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=DA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=te(null);try{i=i||this.ngModule;let o=i instanceof lt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new of(e,o):e,c=a.get(Xs,null);if(c===null)throw new b(407,!1);let u=a.get(xx,null),l=a.get(tp,null),d=a.get(Jh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",v=r?LM(f,r,this.componentDef.encapsulation,a):kw(f,m,Ux(m)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let T=null;v!==null&&(T=Of(v,a,!0));let Z=Wf(0,null,null,1,0,null,null,null,null,null,null),G=ou(null,Z,null,_,null,null,h,f,a,null,T);Cf(G);let ue,Re;try{let ee=this.componentDef,Me,Wt=null;ee.findHostDirectiveDefs?(Me=[],Wt=new Map,ee.findHostDirectiveDefs(ee,Me,Wt),Me.push(ee)):Me=[ee];let _r=jx(G,v),hi=Bx(_r,v,ee,Me,G,h,f);Re=FI(Z,Kn),v&&qx(f,ee,v,r),n!==void 0&&Gx(Re,this.ngContentSelectors,n),ue=Hx(hi,ee,Me,Wt,G,[zx]),Qf(Z,G,null)}finally{Tf()}return new af(this.componentType,ue,Zc(Re,G),G,Re)}finally{te(s)}}},af=class extends Zh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Pr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Kf(s[Y],s,i,e,n),this.previousInputValues.set(e,n);let o=Jn(this._tNode.index,s);Yf(o)}}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jx(t,e){let n=t[Y],r=Kn;return t[r]=e,au(n,r,2,"#host",null)}function Bx(t,e,n,r,i,s,o){let a=i[Y];$x(r,t,e,o);let c=null;e!==null&&(c=Of(e,i[Oi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=ou(i,Jw(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Kh(a,t,r.length-1),cu(i,d),i[t.index]=d}function $x(t,e,n,r){for(let i of t)e.mergedAttrs=zs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(sf(e,e.mergedAttrs,!0),n!==null&&$w(r,n,e))}function Hx(t,e,n,r,i,s){let o=st(),a=i[Y],c=Dt(o,i);eE(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Ui(i,a,d,o);Nr(h,i)}tE(a,i,o),c&&Nr(c,i);let u=Ui(i,a,o.directiveStart+o.componentOffset,o);if(t[kt]=i[kt]=u,s!==null)for(let l of s)l(u,e);return Kw(a,o,i),u}function qx(t,e,n,r){if(r)Nh(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:s}=CA(e.selectors[0]);i&&Nh(t,n,i),s&&s.length>0&&Bw(t,n,s.join(" "))}}function Gx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function zx(){let t=st();Uf(he()[Y],t)}var ao=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wx;let t=e;return t})();function Wx(){let t=st();return Qx(t,he())}var Kx=ao,gE=class extends Kx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zc(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){let e=jf(this._hostTNode,this._hostLView);if(vw(e)){let n=kc(e,this._hostLView),r=Oc(e),i=n[Y].data[r+8];return new Sr(i,n)}else return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=hI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=oI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,sI(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!kR(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new ji(Wn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?u:this.parentInjector).get(lt,null);v&&(s=v)}let l=Wn(c.componentType??{}),d=oI(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,sI(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(PA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ze],u=new gE(c,c[Ft],c[ze]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return hx(o,i,s,r),e.attachToViewContainerRef(),QI(Ch(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=hI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=zh(this._lContainer,n);r&&(xc(Ch(this._lContainer),n),Lw(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=zh(this._lContainer,n);return r&&xc(Ch(this._lContainer),n)!=null?new Pr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hI(t){return t[Ac]}function Ch(t){return t[Ac]||(t[Ac]=[])}function Qx(t,e){let n,r=e[t.index];return An(r)?n=r:(n=nE(r,e,null,t),e[t.index]=n,cu(e,n)),Jx(n,e,t,r),new gE(n,t,e)}function Yx(t,e){let n=t[Ae],r=n.createComment(""),i=Dt(e,t),s=qf(n,i);return Lc(n,s,r,bM(n,i),!1),r}var Jx=eN,Zx=()=>!1;function Xx(t,e,n){return Zx(t,e,n)}function eN(t,e,n,r){if(t[Rr])return;let i;n.type&8?i=Xt(r):i=Yx(e,n),t[Rr]=i}function tN(t){return typeof t=="function"&&t[Qd]!==void 0}function mE(t){return tN(t)&&typeof t.set=="function"}function nN(t){return Object.getPrototypeOf(t.prototype).constructor}function Vt(t){let e=nN(t.type),n=!0,r=[t];for(;e;){let i;if(Qn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=_c(t.inputs),o.inputTransforms=_c(t.inputTransforms),o.declaredInputs=_c(t.declaredInputs),o.outputs=_c(t.outputs);let a=i.hostBindings;a&&aN(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&sN(t,c),u&&oN(t,u),rN(t,i),uA(t.outputs,i.outputs),Qn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Vt&&(n=!1)}}e=Object.getPrototypeOf(e)}iN(r)}function rN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function iN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zs(i.hostAttrs,n=zs(n,i.hostAttrs))}}function _c(t){return t===Pi?{}:t===It?[]:t}function sN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function oN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function aN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function np(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Yn=class{},eo=class{};var cf=class extends Yn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bc(this);let i=RI(e);this._bootstrapComponents=Ow(i.bootstrap),this._r3Injector=Sw(e,n,[{provide:Yn,useValue:this},{provide:uu,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},uf=class extends eo{constructor(e){super(),this.moduleType=e}create(e){return new cf(this.moduleType,e,[])}};var $c=class extends Yn{constructor(e){super(),this.componentFactoryResolver=new Bc(this),this.instance=null;let n=new Zs([...e.providers,{provide:Yn,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],e.parent||Lf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lu(t,e,n=null){return new $c({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var du=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yE(t){return uN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function uN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function co(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function lN(t,e,n,r,i,s,o,a,c){let u=e.consts,l=au(e,t,4,o||null,Mc(u,a));Xw(e,n,l,Mc(u,c)),Uf(e,l);let d=l.tView=Wf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Gi(t,e,n,r,i,s,o,a){let c=he(),u=dt(),l=t+Kn,d=u.firstCreatePass?lN(l,u,c,e,n,r,i,s,o):u.data[l];ro(d,!1);let h=dN(u,c,d,t);Sf()&&Gf(u,c,h,d),Nr(h,c);let f=nE(h,c,h,d);return c[l]=f,cu(c,f),Xx(f,d,c),wf(d)&&Qw(u,c,d),o!=null&&Yw(c,d,a),Gi}var dN=hN;function hN(t,e,n,r){return Af(!0),e[Ae].createComment("")}function hu(t,e,n,r){let i=he(),s=Jc();if(co(i,s,e)){let o=dt(),a=bf();tx(a,i,t,e,n,r)}return hu}function fN(t,e,n,r){return co(t,Jc(),n)?e+eu(n)+r:qi}function Ic(t,e){return t<<17|e<<2}function Or(t){return t>>17&32767}function pN(t){return(t&2)==2}function gN(t,e){return t&131071|e<<17}function lf(t){return t|2}function Bi(t){return(t&131068)>>2}function Th(t,e){return t&-131069|e<<2}function mN(t){return(t&1)===1}function df(t){return t|1}function yN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Or(o),c=Bi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||io(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Or(t[a+1]);t[r+1]=Ic(h,a),h!==0&&(t[h+1]=Th(t[h+1],r)),t[a+1]=gN(t[a+1],r)}else t[r+1]=Ic(a,0),a!==0&&(t[a+1]=Th(t[a+1],r)),a=r;else t[r+1]=Ic(c,0),a===0?a=r:t[c+1]=Th(t[c+1],r),c=r;u&&(t[r+1]=lf(t[r+1])),fI(t,l,r,!0),fI(t,l,r,!1),vN(e,l,t,r,s),o=Ic(a,c),s?e.classBindings=o:e.styleBindings=o}function vN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&io(s,e)>=0&&(n[r+1]=df(n[r+1]))}function fI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Or(i):Bi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];_N(c,e)&&(a=!0,t[o+1]=r?df(u):lf(u)),o=r?Or(u):Bi(u)}a&&(t[n+1]=r?lf(i):df(i))}function _N(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?io(t,e)>=0:!1}function ht(t,e,n){let r=he(),i=Jc();if(co(r,i,e)){let s=dt(),o=bf();Zw(s,o,r,t,e,r[Ae],n,!1)}return ht}function pI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Kf(t,n,s[o],o,r)}function kr(t,e){return IN(t,e,null,!0),kr}function IN(t,e,n,r){let i=he(),s=dt(),o=zA(2);if(s.firstUpdatePass&&EN(s,t,o,r),e!==qi&&co(i,o,e)){let a=s.data[Hi()];SN(s,a,i,i[Ae],t,i[o+1]=AN(e,n),r,o)}}function wN(t,e){return e>=t.expandoStartIndex}function EN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Hi()],o=wN(t,n);RN(s,r)&&e===null&&!o&&(e=!1),e=DN(i,s,e,r),yN(i,s,e,n,o,r)}}function DN(t,e,n,r){let i=YA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=bh(null,t,e,n,r),n=to(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=bh(i,t,e,n,r),s===null){let c=CN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=bh(null,t,e,c[1],r),c=to(c,e.attrs,r),TN(t,e,r,c))}else s=bN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function CN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Bi(r)!==0)return t[Or(r)]}function TN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Or(i)]=r}function bN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=to(r,o,n)}return to(r,e.attrs,n)}function bh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=to(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function to(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),nR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function SN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=mN(u)?gI(c,e,n,i,Bi(u),o):void 0;if(!Hc(l)){Hc(s)||pN(u)&&(s=gI(c,null,n,i,a,o));let d=kI(Hi(),n);PM(r,o,d,i,s)}}function gI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===qi&&(h=d?It:void 0);let f=d?yh(h,r):l===r?h:void 0;if(u&&!Hc(f)&&(f=yh(c,r)),Hc(f)&&(a=f,o))return a;let m=t[i+1];i=o?Or(m):Bi(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=yh(c,r))}return a}function Hc(t){return t!==void 0}function AN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=it(oo(t)))),t}function RN(t,e){return(t.flags&(e?8:16))!==0}function MN(t,e,n,r,i,s){let o=e.consts,a=Mc(o,i),c=au(e,t,2,r,a);return Xw(e,n,c,Mc(o,s)),c.attrs!==null&&sf(c,c.attrs,!1),c.mergedAttrs!==null&&sf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function q(t,e,n,r){let i=he(),s=dt(),o=Kn+t,a=i[Ae],c=s.firstCreatePass?MN(o,s,i,e,n,r):s.data[o],u=xN(s,i,c,a,e,t);i[o]=u;let l=wf(c);return ro(c,!0),$w(a,u,c),(c.flags&32)!==32&&Sf()&&Gf(s,i,u,c),VA()===0&&Nr(u,i),LA(),l&&(Qw(s,i,c),Kw(s,c,i)),r!==null&&Yw(i,c),q}function J(){let t=st();BI()?qA():(t=t.parent,ro(t,!1));let e=t;BA(e)&&$A(),UA();let n=dt();return n.firstCreatePass&&(Uf(n,t),OI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&$R(e)&&pI(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HR(e)&&pI(n,e,he(),e.stylesWithoutHost,!1),J}function Ne(t,e,n,r){return q(t,e,n,r),J(),Ne}var xN=(t,e,n,r,i,s)=>(Af(!0),kw(r,i,XA()));function vE(){return he()}var qc="en-US";var NN=qc;function PN(t){typeof t=="string"&&(NN=t.toLowerCase().replace(/_/g,"-"))}function Be(t,e,n,r){let i=he(),s=dt(),o=st();return _E(s,i,i[Ae],o,t,e,r),Be}function ON(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ws],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function _E(t,e,n,r,i,s,o){let a=wf(r),u=t.firstCreatePass&&ox(t),l=e[kt],d=sx(e),h=!0;if(r.type&3||o){let v=Dt(r,e),_=o?o(v):v,T=d.length,Z=o?ue=>o(Xt(ue[r.index])):r.index,G=null;if(!o&&a&&(G=ON(t,e,i,r.index)),G!==null){let ue=G.__ngLastListenerFn__||G;ue.__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,h=!1}else{s=yI(r,e,l,s,!1);let ue=n.listen(_,i,s);d.push(s,ue),u&&u.push(i,Z,T,T+1)}}else s=yI(r,e,l,s,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[i])){let v=m.length;if(v)for(let _=0;_<v;_+=2){let T=m[_],Z=m[_+1],Re=e[T][Z].subscribe(s),ee=d.length;if(d.push(s,Re),u){let Me=typeof Re=="function"?ee+1:-(ee+1);u.push(i,r.index,ee,Me)}}}}function mI(t,e,n,r){let i=te(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return iE(t,s),!1}finally{Qt(7,e,n),te(i)}}function yI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Jn(t.index,e):e;Yf(a);let c=mI(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=mI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function fu(t=1){return ZA(t)}function le(t,e=""){let n=he(),r=dt(),i=t+Kn,s=r.firstCreatePass?au(r,i,1,e,null):r.data[i],o=kN(r,n,s,e,t);n[i]=o,Sf()&&Gf(r,n,o,s),ro(s,!1)}var kN=(t,e,n,r,i)=>(Af(!0),pM(e[Ae],r));function er(t){return uo("",t,""),er}function uo(t,e,n){let r=he(),i=fN(r,t,e,n);return i!==qi&&ax(r,Hi(),i),uo}function rp(t,e,n){mE(e)&&(e=e());let r=he(),i=Jc();if(co(r,i,e)){let s=dt(),o=bf();Zw(s,o,r,t,e,r[Ae],n,!1)}return rp}function IE(t,e){let n=mE(t);return n&&t.set(e),n}function ip(t,e){let n=he(),r=dt(),i=st();return _E(r,n,n[Ae],i,t,e),ip}function FN(t,e,n){let r=dt();if(r.firstCreatePass){let i=Qn(t);hf(n,r.data,r.blueprint,i,!0),hf(e,r.data,r.blueprint,i,!1)}}function hf(t,e,n,r,i){if(t=Xe(t),Array.isArray(t))for(let s=0;s<t.length;s++)hf(t[s],e,n,r,i);else{let s=dt(),o=he(),a=st(),c=Li(t)?t:Xe(t.provide),u=hw(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Li(t)||!t.multi){let f=new xr(u,i,S),m=Ah(c,e,i?l:l+h,d);m===-1?(qh(Fc(a,o),s,c),Sh(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[m]=f,o[m]=f)}else{let f=Ah(c,e,l+h,d),m=Ah(c,e,l,l+h),v=f>=0&&n[f],_=m>=0&&n[m];if(i&&!_||!i&&!v){qh(Fc(a,o),s,c);let T=UN(i?LN:VN,n.length,i,r,u);!i&&_&&(n[m].providerFactory=T),Sh(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else{let T=wE(n[i?m:f],u,!i&&r);Sh(s,t,f>-1?f:m,T)}!i&&r&&_&&n[m].componentProviders++}}}function Sh(t,e,n,r){let i=Li(e),s=SR(e);if(i||s){let c=(s?Xe(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function wE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ah(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VN(t,e,n,r){return ff(this.multi,[])}function LN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ui(n,n[Y],this.providerFactory.index,r);s=a.slice(0,o),ff(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ff(i,s);return s}function ff(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function UN(t,e,n,r,i){let s=new xr(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,wE(s,i,r&&!n),s}function Fr(t,e=[]){return n=>{n.providersResolver=(r,i)=>FN(r,i?i(t):t,e)}}var jN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=uw(!1,r.type),s=i.length>0?lu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(O(lt))});let t=e;return t})();function sn(t){Zf("NgStandalone"),t.getStandaloneInjector=e=>e.get(jN).getOrCreateStandaloneInjector(t)}var bn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},EE=new bn("17.2.4"),pu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var DE=new M("");function Vr(t){return!!t&&typeof t.then=="function"}function CE(t){return!!t&&typeof t.subscribe=="function"}var gu=new M(""),TE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(gu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Vr(o))r.push(o);else if(CE(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mu=new M("");function BN(){d_(()=>{throw new b(600,!1)})}function $N(t){return t.isBoundToModule}function HN(t,e,n){try{let r=n();return Vr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var lo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(Aw),this.afterRenderEffectManager=I(tp),this.componentTypes=[],this.components=[],this.isStable=I(du).hasPendingTasks.pipe(B(r=>!r)),this._injector=I(lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof jc;if(!this._injector.get(TE).done){let f=!s&&AI(r),m=!1;throw new b(405,m)}let a;s?a=r:a=this._injector.get(uu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=$N(a)?void 0:this._injector.get(Yn),u=i||a.selector,l=a.create(ot.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(DE,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Rh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new b(101,!1);let r=te(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,te(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===uE)throw new b(103,!1);let s=r===0;for(let{_lView:o,notifyErrorHandler:a}of this._views)!s&&!Mh(o)||this.detectChangesInView(o,a,s);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Mh(o))&&(i.execute(),!this._views.some(({_lView:o})=>Mh(o))))break}}detectChangesInView(r,i,s){let o;s?(o=0,r[P]|=1024):r[P]&64?o=0:o=1,lE(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Rh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(mu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Rh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Mh(t){return Df(t)}var pf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yu=(()=>{let e=class e{compileModuleSync(r){return new uf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=RI(r),o=Ow(s.declarations).reduce((a,c)=>{let u=Wn(c);return u&&a.push(new ji(u)),a},[]);return new pf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qN=(()=>{let e=class e{constructor(){this.zone=I(ie),this.applicationRef=I(lo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GN(t){return[{provide:ie,useFactory:t},{provide:Vi,multi:!0,useFactory:()=>{let e=I(qN,{optional:!0});return()=>e.initialize()}},{provide:Vi,multi:!0,useFactory:()=>{let e=I(QN);return()=>{e.initialize()}}},{provide:Aw,useFactory:zN}]}function zN(){let t=I(ie),e=I(en);return n=>t.runOutsideAngular(()=>e.handleError(n))}function WN(t){let e=GN(()=>new ie(KN(t)));return nu([[],e])}function KN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var QN=(()=>{let e=class e{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=I(ie),this.pendingTasks=I(du)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YN(){return typeof $localize<"u"&&$localize.locale||qc}var sp=new M("",{providedIn:"root",factory:()=>I(sp,H.Optional|H.SkipSelf)||YN()});var bE=new M("");var Tc=null;function JN(t=[],e){return ot.create({name:e,providers:[{provide:ru,useValue:"platform"},{provide:bE,useValue:new Set([()=>Tc=null])},...t]})}function ZN(t=[]){if(Tc)return Tc;let e=JN(t);return Tc=e,BN(),XN(e),e}function XN(t){t.get(xf,null)?.forEach(n=>n())}var Lt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eP;let t=e;return t})();function eP(t){return tP(st(),he(),(t&16)===16)}function tP(t,e,n){if(Kc(t)&&!n){let r=Jn(t.index,e);return new Pr(r,r)}else if(t.type&47){let r=e[Zt];return new Pr(r,e)}return null}var gf=class{constructor(){}supports(e){return yE(e)}create(e){return new mf(e)}},nP=(t,e)=>e,mf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<vI(r,i,s)?n:r,a=vI(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,m=f+h;l<=m&&m<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!yE(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,cN(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new yf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Gc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Gc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},vf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Gc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new vf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _I(){return new op([new gf])}var op=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||_I()),deps:[[e,new kf,new Tt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new b(901,!1)}};e.\u0275prov=R({token:e,providedIn:"root",factory:_I});let t=e;return t})();function SE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ZN(r),s=[WN(),...n||[]],a=new $c({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ie);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(en,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(bE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),HN(u,c,()=>{let f=a.get(TE);return f.runInitializers(),f.donePromise.then(()=>{let m=a.get(sp,qc);PN(m||qc);let v=a.get(lo);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function Lr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function AE(t){let e=Wn(t);if(!e)return null;let n=new ji(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var NE=null;function Nn(){return NE}function PE(t){NE??=t}var vu=class{};var at=new M(""),lp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(rP),providedIn:"platform"});let t=e;return t})(),OE=new M(""),rP=(()=>{let e=class e extends lp{constructor(){super(),this._doc=I(at),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function dp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function RE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function xn(t){return t&&t[0]!=="?"?"?"+t:t}var Pn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(hp),providedIn:"root"});let t=e;return t})(),kE=new M(""),hp=(()=>{let e=class e extends Pn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return dp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+xn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+xn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+xn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(lp),O(kE,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FE=(()=>{let e=class e extends Pn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=dp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+xn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+xn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(lp),O(kE,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),zi=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=oP(RE(ME(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+xn(i))}normalize(r){return e.stripTrailingSlash(sP(this._basePath,ME(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=xn,e.joinWithSlash=dp,e.stripTrailingSlash=RE,e.\u0275fac=function(i){return new(i||e)(O(Pn))},e.\u0275prov=R({token:e,factory:()=>iP(),providedIn:"root"});let t=e;return t})();function iP(){return new zi(O(Pn))}function sP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ME(t){return t.replace(/\/index.html$/,"")}function oP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function VE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ap=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Iu=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new ap(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),xE(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);xE(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(ao),S(Jf),S(op))},e.\u0275dir=je({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function xE(t,e){t.context.$implicit=e.item}var fp="browser",aP="server";function cP(t){return t===fp}function pp(t){return t===aP}var LE=(()=>{let e=class e{};e.\u0275prov=R({token:e,providedIn:"root",factory:()=>cP(I(nn))?new cp(I(at),window):new up});let t=e;return t})(),cp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=uP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function uP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var up=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},_u=class{};var yp=class extends vu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vp=class t extends yp{static makeCurrent(){PE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dP();return n==null?null:hP(n)}resetBaseElement(){ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return VE(document.cookie,e)}},ho=null;function dP(){return ho=ho||document.querySelector("base"),ho?ho.getAttribute("href"):null}function hP(t){return new URL(t,document.baseURI).pathname}var fP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),_p=new M(""),$E=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(O(_p),O(ie))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),wu=class{constructor(e){this._doc=e}},gp="ng-app-id",HE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${gp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(gp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(gp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(O(at),O(Mf),O(Nf,8),O(nn))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),mp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wp=/%COMP%/g,qE="%COMP%",pP=`_nghost-${qE}`,gP=`_ngcontent-${qE}`,mP=!0,yP=new M("",{providedIn:"root",factory:()=>mP});function vP(t){return gP.replace(wp,t)}function _P(t){return pP.replace(wp,t)}function GE(t,e){return e.map(n=>n.replace(wp,t))}var UE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=pp(c),this.defaultRenderer=new fo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=ae(D({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Eu?s.applyToHost(r):s instanceof po&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new Eu(u,l,i,this.appId,d,a,c,h);break;case Jt.ShadowDom:return new Ip(u,l,r,i,a,c,this.nonce,h);default:o=new po(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(O($E),O(HE),O(Mf),O(yP),O(at),O(nn),O(ie),O(Nf))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),fo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(mp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(jE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=mp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=mp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function jE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ip=class extends fo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=GE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},po=class extends fo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?GE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Eu=class extends po{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=vP(u),this.hostAttr=_P(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},IP=(()=>{let e=class e extends wu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(O(at))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})(),BE=["alt","control","meta","shift"],wP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},DP=(()=>{let e=class e extends wu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),BE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=wP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),BE.forEach(a=>{if(a!==s){let c=EP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(O(at))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function zE(t,e){return SE(D({rootComponent:t},CP(e)))}function CP(t){return{appProviders:[...RP,...t?.providers??[]],platformProviders:AP}}function TP(){vp.makeCurrent()}function bP(){return new en}function SP(){return JI(document),document}var AP=[{provide:nn,useValue:fp},{provide:xf,useValue:TP,multi:!0},{provide:at,useFactory:SP,deps:[]}];var RP=[{provide:ru,useValue:"root"},{provide:en,useFactory:bP,deps:[]},{provide:_p,useClass:IP,multi:!0,deps:[at,ie,nn]},{provide:_p,useClass:DP,multi:!0,deps:[at]},UE,HE,$E,{provide:Xs,useExisting:UE},{provide:_u,useClass:fP,deps:[]},[]];var WE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(O(at))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var QE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Dp;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Dp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NP=function(t){let e=QE(t);return YE.encodeByteArray(e,!0)},go=function(t){return NP(t).replace(/\./g,"")},Tp=function(t){try{return YE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var OP=()=>PP().__FIREBASE_DEFAULTS__,kP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Tp(t[1]);return e&&JSON.parse(e)},Cu=()=>{try{return OP()||kP()||FP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JE=t=>{var e,n;return(n=(e=Cu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZE=t=>{let e=JE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bp=()=>{var t;return(t=Cu())===null||t===void 0?void 0:t.config},XE=t=>{var e;return(e=Cu())===null||e===void 0?void 0:e[`_${t}`]};var Du=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function eD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[go(JSON.stringify(n)),go(JSON.stringify(o)),""].join(".")}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function VP(){var t;let e=(t=Cu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iD(){return!VP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tu(){try{return typeof indexedDB=="object"}catch{return!1}}function sD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var LP="FirebaseError",bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}},On=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?UP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new bt(i,a,r)}};function UP(t,e){return t.replace(jP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jP=/\{\$([^}]+)}/g;function Wi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(KE(s)&&KE(o)){if(!Wi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function KE(t){return t!==null&&typeof t=="object"}function Sp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oD(t,e){let n=new Cp(t,e);return n.subscribe.bind(n)}var Cp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ep),i.error===void 0&&(i.error=Ep),i.complete===void 0&&(i.complete=Ep);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}var Fz=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ur="[DEFAULT]";var Ap=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Du;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HP(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$P(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $P(t){return t===Ur?void 0:t}function HP(t){return t.instantiationMode==="EAGER"}var bu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ap(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qP=[],K=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(K||{}),GP={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},zP=K.INFO,WP={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},KP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=WP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},tr=class{constructor(e){this.name=e,this._logLevel=zP,this._logHandler=KP,this._userLogHandler=null,qP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var QP=(t,e)=>e.some(n=>t instanceof n),aD,cD;function YP(){return aD||(aD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JP(){return cD||(cD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uD=new WeakMap,Mp=new WeakMap,lD=new WeakMap,Rp=new WeakMap,Np=new WeakMap;function ZP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uD.set(n,t)}).catch(()=>{}),Np.set(e,t),e}function XP(t){if(Mp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mp.set(t,e)}var xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dD(t){xp=t(xp)}function eO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Su(this),e,...n);return lD.set(r,e.sort?e.sort():[e]),on(r)}:JP().includes(t)?function(...e){return t.apply(Su(this),e),on(uD.get(this))}:function(...e){return on(t.apply(Su(this),e))}}function tO(t){return typeof t=="function"?eO(t):(t instanceof IDBTransaction&&XP(t),QP(t,YP())?new Proxy(t,xp):t)}function on(t){if(t instanceof IDBRequest)return ZP(t);if(Rp.has(t))return Rp.get(t);let e=tO(t);return e!==t&&(Rp.set(t,e),Np.set(e,t)),e}var Su=t=>Np.get(t);function fD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=on(o);return r&&o.addEventListener("upgradeneeded",c=>{r(on(o.result),c.oldVersion,c.newVersion,on(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var nO=["get","getKey","getAll","getAllKeys","count"],rO=["put","add","delete","clear"],Pp=new Map;function hD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pp.get(e))return Pp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=rO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nO.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Pp.set(e,s),s}dD(t=>ae(D({},t),{get:(e,n,r)=>hD(e,n)||t.get(e,n,r),has:(e,n)=>!!hD(e,n)||t.has(e,n)}));var kp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function iO(t){let e=t.getComponent();return e?.type==="VERSION"}var Fp="@firebase/app",pD="0.9.29";var jr=new tr("@firebase/app"),sO="@firebase/app-compat",oO="@firebase/analytics-compat",aO="@firebase/analytics",cO="@firebase/app-check-compat",uO="@firebase/app-check",lO="@firebase/auth",dO="@firebase/auth-compat",hO="@firebase/database",fO="@firebase/database-compat",pO="@firebase/functions",gO="@firebase/functions-compat",mO="@firebase/installations",yO="@firebase/installations-compat",vO="@firebase/messaging",_O="@firebase/messaging-compat",IO="@firebase/performance",wO="@firebase/performance-compat",EO="@firebase/remote-config",DO="@firebase/remote-config-compat",CO="@firebase/storage",TO="@firebase/storage-compat",bO="@firebase/firestore",SO="@firebase/firestore-compat",AO="firebase",RO="10.9.0";var Vp="[DEFAULT]",MO={[Fp]:"fire-core",[sO]:"fire-core-compat",[aO]:"fire-analytics",[oO]:"fire-analytics-compat",[uO]:"fire-app-check",[cO]:"fire-app-check-compat",[lO]:"fire-auth",[dO]:"fire-auth-compat",[hO]:"fire-rtdb",[fO]:"fire-rtdb-compat",[pO]:"fire-fn",[gO]:"fire-fn-compat",[mO]:"fire-iid",[yO]:"fire-iid-compat",[vO]:"fire-fcm",[_O]:"fire-fcm-compat",[IO]:"fire-perf",[wO]:"fire-perf-compat",[EO]:"fire-rc",[DO]:"fire-rc-compat",[CO]:"fire-gcs",[TO]:"fire-gcs-compat",[bO]:"fire-fst",[SO]:"fire-fst-compat","fire-js":"fire-js",[AO]:"fire-js-all"};var mo=new Map,Lp=new Map;function xO(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rr(t){let e=t.name;if(Lp.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(let n of mo.values())xO(n,t);return!0}function $p(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var NO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nr=new On("app","Firebase",NO);var Up=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}};var Ki=RO;function Hp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nr.create("bad-app-name",{appName:String(i)});if(n||(n=bp()),!n)throw nr.create("no-options");let s=mo.get(i);if(s){if(Wi(n,s.options)&&Wi(r,s.config))return s;throw nr.create("duplicate-app",{appName:i})}let o=new bu(i);for(let c of Lp.values())o.addComponent(c);let a=new Up(n,r,o);return mo.set(i,a),a}function vo(t=Vp){let e=mo.get(t);if(!e&&t===Vp&&bp())return Hp();if(!e)throw nr.create("no-app",{appName:t});return e}function Au(){return Array.from(mo.values())}function Pe(t,e,n){var r;let i=(r=MO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}rr(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var PO="firebase-heartbeat-database",OO=1,yo="firebase-heartbeat-store",Op=null;function vD(){return Op||(Op=fD(PO,OO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw nr.create("idb-open",{originalErrorMessage:t.message})})),Op}function kO(t){return p(this,null,function*(){try{let n=(yield vD()).transaction(yo),r=yield n.objectStore(yo).get(_D(t));return yield n.done,r}catch(e){if(e instanceof bt)jr.warn(e.message);else{let n=nr.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}})}function gD(t,e){return p(this,null,function*(){try{let r=(yield vD()).transaction(yo,"readwrite");yield r.objectStore(yo).put(e,_D(t)),yield r.done}catch(n){if(n instanceof bt)jr.warn(n.message);else{let r=nr.create("idb-set",{originalErrorMessage:n?.message});jr.warn(r.message)}}})}function _D(t){return`${t.name}!${t.options.appId}`}var FO=1024,VO=30*24*60*60*1e3,jp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Bp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=VO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=mD(),{heartbeatsToSend:r,unsentEntries:i}=LO(this._heartbeatsCache.heartbeats),s=go(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function mD(){return new Date().toISOString().substring(0,10)}function LO(t,e=FO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Bp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Tu()?sD().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield kO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yD(t){return go(JSON.stringify({version:2,heartbeats:t})).length}function UO(t){rr(new St("platform-logger",e=>new kp(e),"PRIVATE")),rr(new St("heartbeat",e=>new jp(e),"PRIVATE")),Pe(Fp,pD,t),Pe(Fp,pD,"esm2017"),Pe("fire-js","")}UO("");var jO="firebase",BO="10.9.0";Pe(jO,BO,"app");var Yi=new bn("ANGULARFIRE2_VERSION");function Gp(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Io=(t,e)=>{let n=e?[e]:Au(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},_o=class{constructor(){return Io($O)}},$O="app-check";function Qi(){}var Ru=class{zone;delegate;constructor(e,n=ch){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},qp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi)),n.pipe(Ce({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},wo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ru(Zone.current)),this.insideAngular=n.run(()=>new Ru(Zone.current,Bs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(ie))};static \u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function HO(t){return Mu().ngZone.runOutsideAngular(()=>t())}function Br(t){return Mu().ngZone.run(()=>t())}function qO(t){return GO(Mu())(t)}function GO(t){return function(n){return n=n.lift(new qp(t.ngZone)),n.pipe($n(t.outsideAngular),Bn(t.insideAngular))}}var zO=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Br(()=>t.apply(void 0,r))},ct=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi))),r[s]=zO(r[s],n));let i=HO(()=>t.apply(this,r));if(!e)if(i instanceof z){let s=Mu();return i.pipe($n(s.outsideAngular),Bn(s.insideAngular))}else return Br(()=>i);return i instanceof z?i.pipe(qO):i instanceof Promise?Br(()=>new Promise((s,o)=>i.then(a=>Br(()=>s(a)),a=>Br(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Br(()=>i)};var $r=class{constructor(e){return e}},Eo=class{constructor(){return Au()}};function WO(t){return t&&t.length===1?t[0]:new $r(vo())}var zp=new M("angularfire2._apps"),KO={provide:$r,useFactory:WO,deps:[[new Tt,zp]]},QO={provide:Eo,deps:[[new Tt,zp]]};function YO(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $r(r)}}var JO=(()=>{class t{constructor(n){Pe("angularfire",Yi.full,"core"),Pe("angularfire",Yi.full,"app"),Pe("angular",EE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(O(nn))};static \u0275mod=Et({type:t});static \u0275inj=Ct({providers:[KO,QO]})}return t})();function ID(t,...e){return{ngModule:JO,providers:[{provide:zp,useFactory:YO(t),multi:!0,deps:[ie,ot,wo,...e]}]}}var wD=ct(Hp,!0);function AD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var RD=AD,MD=new On("auth","Firebase",AD());var Pu=new tr("@firebase/auth");function XO(t,...e){Pu.logLevel<=K.WARN&&Pu.warn(`Auth (${Ki}): ${t}`,...e)}function Nu(t,...e){Pu.logLevel<=K.ERROR&&Pu.error(`Auth (${Ki}): ${t}`,...e)}function ED(t,...e){throw ig(t,...e)}function rg(t,...e){return ig(t,...e)}function ek(t,e,n){let r=Object.assign(Object.assign({},RD()),{[e]:n});return new On("auth","Firebase",r).create(e,{appName:t.name})}function ig(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MD.create(t,...e)}function se(t,e,...n){if(!t)throw ig(e,...n)}function Do(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Nu(e),new Error(e)}function Ou(t,e){t||Do(e)}function tk(){return DD()==="http:"||DD()==="https:"}function DD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tk()||nD()||"connection"in navigator)?navigator.onLine:!0}function rk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ou(n>e,"Short delay should be less than long delay!"),this.isMobile=tD()||rD()}get(){return nk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ik(t,e){Ou(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ku=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Do("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Do("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Do("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ok=new qr(3e4,6e4);function xD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $u(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return ND(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Sp(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ku.fetch()(PD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function ND(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},sk),e);try{let i=new Qp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw xu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ek(t,l,u);ED(t,l)}}catch(i){if(i instanceof bt)throw i;ED(t,"network-request-failed",{message:String(i)})}})}function PD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ik(t.config,i):`${t.config.apiScheme}://${i}`}var Qp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rg(this.auth,"network-request-failed")),ok.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=rg(t,e,r);return i.customData._tokenResponse=n,i}function ak(t,e){return p(this,null,function*(){return $u(t,"POST","/v1/accounts:delete",e)})}function ck(t,e){return p(this,null,function*(){return $u(t,"POST","/v1/accounts:lookup",e)})}function Co(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function sg(t,e=!1){return p(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=OD(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Co(Wp(i.auth_time)),issuedAtTime:Co(Wp(i.iat)),expirationTime:Co(Wp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Wp(t){return Number(t)*1e3}function OD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Tp(n);return i?JSON.parse(i):(Nu("Failed to decode base64 JWT payload"),null)}catch(i){return Nu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uk(t){let e=OD(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Yp(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof bt&&lk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function lk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Jp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Yp(t,ck(n,{idToken:r}));se(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hk(s.providerUserInfo):[],a=dk(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fu(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function og(t){return p(this,null,function*(){let e=ft(t);yield Vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function dk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hk(t){return t.map(e=>{var{providerId:n}=e,r=uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fk(t,e){return p(this,null,function*(){let n=yield ND(t,{},()=>p(this,null,function*(){let r=Sp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PD(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ku.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function pk(t,e){return p(this,null,function*(){return $u(t,"POST","/v2/accounts:revokeToken",xD(t,e))})}var Lu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield fk(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Do("not implemented")}};function ir(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Uu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Yp(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return sg(this,e)}reload(){return og(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield Yp(this,ak(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Z=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:G,emailVerified:ue,isAnonymous:Re,providerData:ee,stsTokenManager:Me}=n;se(G&&Me,e,"internal-error");let Wt=Lu.fromJSON(this.name,Me);se(typeof G=="string",e,"internal-error"),ir(d,e.name),ir(h,e.name),se(typeof ue=="boolean",e,"internal-error"),se(typeof Re=="boolean",e,"internal-error"),ir(f,e.name),ir(m,e.name),ir(v,e.name),ir(_,e.name),ir(T,e.name),ir(Z,e.name);let _r=new t({uid:G,auth:e,email:h,emailVerified:ue,displayName:d,isAnonymous:Re,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:Wt,createdAt:T,lastLoginAt:Z});return ee&&Array.isArray(ee)&&(_r.providerData=ee.map(hi=>Object.assign({},hi))),_&&(_r._redirectEventId=_),_r}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Lu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vu(s),s})}};var CD=new Map;function Hr(t){Ou(t instanceof Function,"Expected a class definition");let e=CD.get(t);return e?(Ou(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CD.set(t,e),e)}var gk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Zp=gk;function Kp(t,e,n){return`firebase:${t}:${e}:${n}`}var ju=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Kp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Uu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Hr(Zp),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Hr(Zp),o=Kp(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Uu._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function TD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_k(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wk(e))return"Blackberry";if(Ek(e))return"Webos";if(yk(e))return"Safari";if((e.includes("chrome/")||vk(e))&&!e.includes("edge/"))return"Chrome";if(Ik(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mk(t=We()){return/firefox\//i.test(t)}function yk(t=We()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vk(t=We()){return/crios\//i.test(t)}function _k(t=We()){return/iemobile/i.test(t)}function Ik(t=We()){return/android/i.test(t)}function wk(t=We()){return/blackberry/i.test(t)}function Ek(t=We()){return/webos/i.test(t)}function kD(t,e=[]){let n;switch(t){case"Browser":n=TD(We());break;case"Worker":n=`${TD(We())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ki}/${r}`}var Xp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Dk(n){return p(this,arguments,function*(t,e={}){return $u(t,"GET","/v2/passwordPolicy",xD(t,e))})}var Ck=6,eg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ck,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var tg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bu(this),this.idTokenSubscription=new Bu(this),this.beforeStateQueue=new Xp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ju.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Vu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=rk()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?ft(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Hr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield Dk(this),n=new eg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new On("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield pk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Hr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield ju.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&XO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Tk(t){return ft(t)}var Bu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var bk={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sk(t){bk=t}function Ak(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Rk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var M3=Ak("rcb"),x3=new qr(3e4,6e4);var N3=new qr(2e3,1e4);var P3=10*60*1e3;var O3=new qr(3e4,6e4);var k3=new qr(5e3,15e3);var F3=encodeURIComponent("fac");var bD="@firebase/auth",SD="1.6.2";var ng=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Mk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xk(t){rr(new St("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kD(t)},u=new tg(r,i,s,c);return Rk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rr(new St("auth-internal",e=>{let n=Tk(e.getProvider("auth").getImmediate());return(r=>new ng(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(bD,SD,Mk(t)),Pe(bD,SD,"esm2017")}var Nk=5*60,V3=XE("authIdTokenMaxAge")||Nk;function Pk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Sk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=rg("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Pk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xk("Browser");var N1="auth";var Hu=class{constructor(){return Io(N1)}};var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bt={},w,Ag=Ag||{},k=P1||self;function rl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Lo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O1(t){return Object.prototype.hasOwnProperty.call(t,ag)&&t[ag]||(t[ag]=++k1)}var ag="closure_uid_"+(1e9*Math.random()>>>0),k1=0;function F1(t,e,n){return t.call.apply(t.bind,arguments)}function V1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=F1:Ke=V1,Ke.apply(null,arguments)}function qu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function sr(){this.s=this.s,this.o=this.o}var L1=0;sr.prototype.s=!1;sr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),L1!=0)&&O1(this)};sr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var KD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function FD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(rl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var U1=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};k.addEventListener("test",n,e),k.removeEventListener("test",n,e)}catch{}return t}();function Mo(t){return/^[\s\xa0]*$/.test(t)}function il(){var t=k.navigator;return t&&(t=t.userAgent)?t:""}function an(t){return il().indexOf(t)!=-1}function Mg(t){return Mg[" "](t),t}Mg[" "]=function(){};function j1(t,e){var n=AF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var B1=an("Opera"),es=an("Trident")||an("MSIE"),QD=an("Edge"),hg=QD||es,YD=an("Gecko")&&!(il().toLowerCase().indexOf("webkit")!=-1&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),$1=il().toLowerCase().indexOf("webkit")!=-1&&!an("Edge");function JD(){var t=k.document;return t?t.documentMode:void 0}var fg;e:{if(Gu="",zu=function(){var t=il();if(YD)return/rv:([^\);]+)(\)|;)/.exec(t);if(QD)return/Edge\/([\d\.]+)/.exec(t);if(es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($1)return/WebKit\/(\S+)/.exec(t);if(B1)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),zu&&(Gu=zu?zu[1]:""),es&&(Wu=JD(),Wu!=null&&Wu>parseFloat(Gu))){fg=String(Wu);break e}fg=Gu}var Gu,zu,Wu,pg;k.document&&es?(cg=JD(),pg=cg||parseInt(fg,10)||void 0):pg=void 0;var cg,H1=pg;function xo(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YD){e:{try{Mg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:q1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xo.$.h.call(this)}}ke(xo,Qe);var q1={2:"touch",3:"pen",4:"mouse"};xo.prototype.h=function(){xo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uo="closure_listenable_"+(1e6*Math.random()|0),G1=0;function z1(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++G1,this.fa=this.ia=!1}function sl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function W1(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function ZD(t){let e={};for(let n in t)e[n]=t[n];return e}var VD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<VD.length;s++)n=VD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ol(t){this.src=t,this.g={},this.h=0}ol.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=mg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new z1(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function gg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=KD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function mg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ng="closure_lm_"+(1e6*Math.random()|0),ug={};function e0(t,e,n,r,i){if(r&&r.once)return n0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)e0(t,e[s],n,r,i);return null}return n=kg(n),t&&t[Uo]?t.O(e,n,Lo(r)?!!r.capture:!!r,i):t0(t,e,n,!1,r,i)}function t0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Lo(i)?!!i.capture:!!i,a=Og(t);if(a||(t[Ng]=a=new ol(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=K1(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)U1||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(i0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K1(){function t(n){return e.call(t.src,t.listener,n)}let e=Q1;return t}function n0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)n0(t,e[s],n,r,i);return null}return n=kg(n),t&&t[Uo]?t.P(e,n,Lo(r)?!!r.capture:!!r,i):t0(t,e,n,!0,r,i)}function r0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)r0(t,e[s],n,r,i);else r=Lo(r)?!!r.capture:!!r,n=kg(n),t&&t[Uo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=mg(s,n,r,i),-1<n&&(sl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Og(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mg(e,n,r,i)),(n=-1<t?e[t]:null)&&Pg(n))}function Pg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Uo])gg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(i0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Og(e))?(gg(n,t),n.h==0&&(n.src=null,e[Ng]=null)):sl(t)}}}function i0(t){return t in ug?ug[t]:ug[t]="on"+t}function Q1(t,e){if(t.fa)t=!0;else{e=new xo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Pg(t),t=n.call(r,e)}return t}function Og(t){return t=t[Ng],t instanceof ol?t:null}var lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function kg(t){return typeof t=="function"?t:(t[lg]||(t[lg]=function(e){return t.handleEvent(e)}),t[lg])}function Oe(){sr.call(this),this.i=new ol(this),this.S=this,this.J=null}ke(Oe,sr);Oe.prototype[Uo]=!0;Oe.prototype.removeEventListener=function(t,e,n,r){r0(this,t,e,n,r)};function He(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var i=e;e=new Qe(r,t),XD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ku(o,r,!0,e)&&i}if(o=e.g=t,i=Ku(o,r,!0,e)&&i,i=Ku(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ku(o,r,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sl(n[r]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Oe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ku(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&gg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Fg=k.JSON.stringify,yg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Y1(){var t=Vg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var vg=class{constructor(){this.h=this.g=null}add(e,n){let r=s0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},s0=new yg(()=>new _g,t=>t.reset()),_g=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function J1(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Z1(t){k.setTimeout(()=>{throw t},0)}var No,Po=!1,Vg=new vg,o0=()=>{let t=k.Promise.resolve(void 0);No=()=>{t.then(X1)}},X1=()=>{for(var t;t=Y1();){try{t.h.call(t.g)}catch(n){Z1(n)}var e=s0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Po=!1};function al(t,e){Oe.call(this),this.h=t||1,this.g=e||k,this.j=Ke(this.qb,this),this.l=Date.now()}ke(al,Oe);w=al.prototype;w.ga=!1;w.T=null;w.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),He(this,"tick"),this.ga&&(Lg(this),this.start()))}};w.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}w.N=function(){al.$.N.call(this),Lg(this),delete this.g};function Ug(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function a0(t){t.g=Ug(()=>{t.g=null,t.i&&(t.i=!1,a0(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Ig=class extends sr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:a0(this)}N(){super.N(),this.g&&(k.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Oo(t){sr.call(this),this.h=t,this.g={}}ke(Oo,sr);var LD=[];function c0(t,e,n,r){Array.isArray(n)||(n&&(LD[0]=n.toString()),n=LD);for(var i=0;i<n.length;i++){var s=e0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function u0(t){xg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pg(e)},t),t.g={}}Oo.prototype.N=function(){Oo.$.N.call(this),u0(this)};Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cl(){this.g=!0}cl.prototype.Ea=function(){this.g=!1};function eF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function tF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Zi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+rF(t,n)+(r?" "+r:"")})}function nF(t,e){t.info(function(){return"TIMEOUT: "+e})}cl.prototype.info=function(){};function rF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Fg(n)}catch{return e}}var Kr={},UD=null;function ul(){return UD=UD||new Oe}Kr.Ta="serverreachability";function l0(t){Qe.call(this,Kr.Ta,t)}ke(l0,Qe);function ko(t){let e=ul();He(e,new l0(e))}Kr.STAT_EVENT="statevent";function d0(t,e){Qe.call(this,Kr.STAT_EVENT,t),this.stat=e}ke(d0,Qe);function et(t){let e=ul();He(e,new d0(e,t))}Kr.Ua="timingevent";function h0(t,e){Qe.call(this,Kr.Ua,t),this.size=e}ke(h0,Qe);function jo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}var ll={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},f0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jg(){}jg.prototype.h=null;function jD(t){return t.h||(t.h=t.i())}function p0(){}var Bo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bg(){Qe.call(this,"d")}ke(Bg,Qe);function $g(){Qe.call(this,"c")}ke($g,Qe);var wg;function dl(){}ke(dl,jg);dl.prototype.g=function(){return new XMLHttpRequest};dl.prototype.i=function(){return{}};wg=new dl;function $o(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oo(this),this.P=iF,t=hg?125:void 0,this.V=new al(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new g0}function g0(){this.i=null,this.g="",this.h=!1}var iF=45e3,m0={},Eg={};w=$o.prototype;w.setTimeout=function(t){this.P=t};function Dg(t,e,n){t.L=1,t.A=fl(Fn(e)),t.u=n,t.S=!0,y0(t,null)}function y0(t,e){t.G=Date.now(),Ho(t),t.B=Fn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),T0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new g0,t.g=z0(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Ig(Ke(t.Pa,t,t.g),t.O)),c0(t.U,t.g,"readystatechange",t.nb),e=t.I?ZD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ko(),eF(t.j,t.v,t.B,t.m,t.W,t.u)}w.nb=function(t){t=t.target;let e=this.M;e&&cn(t)==3?e.l():this.Pa(t)};w.Pa=function(t){try{if(t==this.g)e:{let l=cn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||hg||this.g&&(this.h.h||this.g.ja()||qD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?ko(3):ko(2)),hl(this);var n=this.g.da();this.ca=n;t:if(v0(this)){var r=qD(this.g);t="";var i=r.length,s=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),Ro(this);var o="";break t}this.h.i=new k.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,tF(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mo(a)){var u=a;break t}}u=null}if(n=u)Zi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cg(this,n);else{this.i=!1,this.s=3,et(12),Gr(this),Ro(this);break e}}this.S?(_0(this,l,o),hg&&this.i&&l==3&&(c0(this.U,this.V,"tick",this.mb),this.V.start())):(Zi(this.j,this.m,o,null),Cg(this,o)),l==4&&Gr(this),this.i&&!this.J&&(l==4?$0(this.l,this):(this.i=!1,Ho(this)))}else TF(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Gr(this),Ro(this)}}}catch{}finally{}};function v0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function _0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=sF(t,n),i==Eg){e==4&&(t.s=4,et(14),r=!1),Zi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==m0){t.s=4,et(15),Zi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zi(t.j,t.m,i,null),Cg(t,i);v0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kg(e),e.M=!0,et(11))):(Zi(t.j,t.m,n,"[Invalid Chunked Response]"),Gr(t),Ro(t))}w.mb=function(){if(this.g){var t=cn(this.g),e=this.g.ja();this.o<e.length&&(hl(this),_0(this,t,e),this.i&&t!=4&&Ho(this))}};function sF(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Eg:(n=Number(e.substring(n,r)),isNaN(n)?m0:(r+=1,r+n>e.length?Eg:(e=e.slice(r,r+n),t.o=r+n,e)))}w.cancel=function(){this.J=!0,Gr(this)};function Ho(t){t.Y=Date.now()+t.P,I0(t,t.P)}function I0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=jo(Ke(t.lb,t),e)}function hl(t){t.C&&(k.clearTimeout(t.C),t.C=null)}w.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(nF(this.j,this.B),this.L!=2&&(ko(),et(17)),Gr(this),this.s=2,Ro(this)):I0(this,this.Y-t)};function Ro(t){t.l.H==0||t.J||$0(t.l,t)}function Gr(t){hl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lg(t.V),u0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Tg(n.i,t))){if(!t.K&&Tg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Xu(n),ml(n);else break e;Wg(n),et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=jo(Ke(n.ib,n),6e3));if(1>=A0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zr(n,11)}else if((t.K||n.g==t)&&Xu(n),!Mo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hg(s,s.h),s.h=null))}if(r.F){let v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,fe(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=G0(r,r.J?r.pa:null,r.Y),o.K){R0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(hl(a),Ho(a)),r.g=o}else j0(r);0<n.j.length&&yl(n)}else u[0]!="stop"&&u[0]!="close"||zr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?zr(n,7):zg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ko(4)}catch{}}function oF(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(rl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function aF(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(rl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function w0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(rl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=aF(t),r=oF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var E0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wr){this.h=t.h,Ju(this,t.j),this.s=t.s,this.g=t.g,Zu(this,t.m),this.l=t.l;var e=t.i,n=new Fo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),BD(this,n),this.o=t.o}else t&&(e=String(t).match(E0))?(this.h=!1,Ju(this,e[1]||"",!0),this.s=So(e[2]||""),this.g=So(e[3]||"",!0),Zu(this,e[4]),this.l=So(e[5]||"",!0),BD(this,e[6]||"",!0),this.o=So(e[7]||"")):(this.h=!1,this.i=new Fo(null,this.h))}Wr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ao(e,$D,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ao(e,$D,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ao(n,n.charAt(0)=="/"?dF:lF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ao(n,fF)),t.join("")};function Fn(t){return new Wr(t)}function Ju(t,e,n){t.j=n?So(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function BD(t,e,n){e instanceof Fo?(t.i=e,pF(t.i,t.h)):(n||(e=Ao(e,hF)),t.i=new Fo(e,t.h))}function fe(t,e,n){t.i.set(e,n)}function fl(t){return fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function So(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ao(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,uF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $D=/[#\/\?@]/g,lF=/[#\?:]/g,dF=/[#\?]/g,hF=/[#\?@]/g,fF=/#/g;function Fo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function or(t){t.g||(t.g=new Map,t.h=0,t.i&&cF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}w=Fo.prototype;w.add=function(t,e){or(this),this.i=null,t=ts(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function D0(t,e){or(t),e=ts(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function C0(t,e){return or(t),e=ts(t,e),t.g.has(e)}w.forEach=function(t,e){or(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};w.ta=function(){or(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};w.Z=function(t){or(this);let e=[];if(typeof t=="string")C0(this,t)&&(e=e.concat(this.g.get(ts(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};w.set=function(t,e){return or(this),this.i=null,t=ts(this,t),C0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};w.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function T0(t,e,n){D0(t,e),0<n.length&&(t.i=null,t.g.set(ts(t,e),Rg(n)),t.h+=n.length)}w.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ts(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pF(t,e){e&&!t.j&&(or(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(D0(this,r),T0(this,i,n))},t)),t.j=e}var gF=class{constructor(t,e){this.g=t,this.map=e}};function b0(t){this.l=t||mF,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(k.g&&k.g.Ka&&k.g.Ka()&&k.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mF=10;function S0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function A0(t){return t.h?1:t.g?t.g.size:0}function Tg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hg(t,e){t.g?t.g.add(e):t.h=e}function R0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}b0.prototype.cancel=function(){if(this.i=M0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function M0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Rg(t.i)}var yF=class{stringify(t){return k.JSON.stringify(t,void 0)}parse(t){return k.JSON.parse(t,void 0)}};function vF(){this.g=new yF}function _F(t,e,n){let r=n||"";try{w0(t,function(i,s){let o=i;Lo(i)&&(o=Fg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function IF(t,e){let n=new cl;if(k.Image){let r=new Image;r.onload=qu(Qu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qu(Qu,n,r,"TestLoadImage: error",!1,e),r.onabort=qu(Qu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qu(Qu,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Qu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qo(t){this.l=t.ec||null,this.j=t.ob||!1}ke(qo,jg);qo.prototype.g=function(){return new pl(this.l,this.j)};qo.prototype.i=function(t){return function(){return t}}({});function pl(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(pl,Oe);var qg=0;w=pl.prototype;w.open=function(t,e){if(this.readyState!=qg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vo(this)};w.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||k).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};w.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=qg};w.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vo(this)),this.g&&(this.readyState=3,Vo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof k.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function x0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}w.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Go(this):Vo(this),this.readyState==3&&x0(this)}};w.Za=function(t){this.g&&(this.response=this.responseText=t,Go(this))};w.Ya=function(t){this.g&&(this.response=t,Go(this))};w.ka=function(){this.g&&Go(this)};function Go(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vo(t)}w.setRequestHeader=function(t,e){this.v.append(t,e)};w.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};w.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Vo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var wF=k.JSON.parse;function ye(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=N0,this.L=this.M=!1}ke(ye,Oe);var N0="",EF=/^https?$/i,DF=["POST","PUT"];w=ye.prototype;w.Oa=function(t){this.M=t};w.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wg.g(),this.C=this.u?jD(this.u):jD(wg),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){HD(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=k.FormData&&t instanceof k.FormData,!(0<=KD(DF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{k0(this),0<this.B&&((this.L=CF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=Ug(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){HD(this,s)}};function CF(t){return es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}w.ua=function(){typeof Ag<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,He(this,"timeout"),this.abort(8))};function HD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,P0(t),gl(t)}function P0(t){t.F||(t.F=!0,He(t,"complete"),He(t,"error"))}w.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,He(this,"complete"),He(this,"abort"),gl(this))};w.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gl(this,!0)),ye.$.N.call(this)};w.La=function(){this.s||(this.G||this.v||this.l?O0(this):this.kb())};w.kb=function(){O0(this)};function O0(t){if(t.h&&typeof Ag<"u"&&(!t.C[1]||cn(t)!=4||t.da()!=2)){if(t.v&&cn(t)==4)Ug(t.La,0,t);else if(He(t,"readystatechange"),cn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(E0)[1]||null;!i&&k.self&&k.self.location&&(i=k.self.location.protocol.slice(0,-1)),r=!EF.test(i?i.toLowerCase():"")}n=r}if(n)He(t,"complete"),He(t,"success");else{t.m=6;try{var s=2<cn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",P0(t)}}finally{gl(t)}}}}function gl(t,e){if(t.g){k0(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||He(t,"ready");try{n.onreadystatechange=r}catch{}}}function k0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(k.clearTimeout(t.A),t.A=null)}w.isActive=function(){return!!this.g};function cn(t){return t.g?t.g.readyState:0}w.da=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};w.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};w.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),wF(e)}};function qD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case N0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TF(t){let e={};t=(t.g&&2<=cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Mo(t[r]))continue;var n=J1(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}W1(e,function(r){return r.join(", ")})}w.Ia=function(){return this.m};w.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function F0(t){let e="";return xg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=F0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):fe(t,e,n))}function To(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function V0(t){this.Ga=0,this.j=[],this.l=new cl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=To("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=To("baseRetryDelayMs",5e3,t),this.hb=To("retryDelaySeedMs",1e4,t),this.eb=To("forwardChannelMaxRetries",2,t),this.xa=To("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new b0(t&&t.concurrentRequestLimit),this.Ja=new vF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}w=V0.prototype;w.ra=8;w.H=1;function zg(t){if(L0(t),t.H==3){var e=t.W++,n=Fn(t.I);if(fe(n,"SID",t.K),fe(n,"RID",e),fe(n,"TYPE","terminate"),zo(t,n),e=new $o(t,t.l,e),e.L=2,e.A=fl(Fn(n)),n=!1,k.navigator&&k.navigator.sendBeacon)try{n=k.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&k.Image&&(new Image().src=e.A,n=!0),n||(e.g=z0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ho(e)}q0(t)}function ml(t){t.g&&(Kg(t),t.g.cancel(),t.g=null)}function L0(t){ml(t),t.u&&(k.clearTimeout(t.u),t.u=null),Xu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&k.clearTimeout(t.m),t.m=null)}function yl(t){if(!S0(t.i)&&!t.m){t.m=!0;var e=t.Na;No||o0(),Po||(No(),Po=!0),Vg.add(e,t),t.C=0}}function bF(t,e){return A0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=jo(Ke(t.Na,t,e),H0(t,t.C)),t.C++,!0)}w.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new $o(this,this.l,t),s=this.s;if(this.U&&(s?(s=ZD(s),XD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=U0(this,i,e),n=Fn(this.I),fe(n,"RID",t),fe(n,"CVER",22),this.F&&fe(n,"X-HTTP-Session-Id",this.F),zo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(F0(s)))+"&"+e:this.o&&Gg(n,this.o,s)),Hg(this.i,i),this.bb&&fe(n,"TYPE","init"),this.P?(fe(n,"$req",e),fe(n,"SID","null"),i.aa=!0,Dg(i,n,null)):Dg(i,n,e),this.H=2}}else this.H==3&&(t?GD(this,t):this.j.length==0||S0(this.i)||GD(this))};function GD(t,e){var n;e?n=e.m:n=t.W++;let r=Fn(t.I);fe(r,"SID",t.K),fe(r,"RID",n),fe(r,"AID",t.V),zo(t,r),t.o&&t.s&&Gg(r,t.o,t.s),n=new $o(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=U0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hg(t.i,n),Dg(n,r,e)}function zo(t,e){t.na&&xg(t.na,function(n,r){fe(e,r,n)}),t.h&&w0({},function(n,r){fe(e,r,n)})}function U0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{_F(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function j0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;No||o0(),Po||(No(),Po=!0),Vg.add(e,t),t.A=0}}function Wg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=jo(Ke(t.Ma,t),H0(t,t.A)),t.A++,!0)}w.Ma=function(){if(this.u=null,B0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jo(Ke(this.jb,this),t)}};w.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,et(10),ml(this),B0(this))};function Kg(t){t.B!=null&&(k.clearTimeout(t.B),t.B=null)}function B0(t){t.g=new $o(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fn(t.wa);fe(e,"RID","rpc"),fe(e,"SID",t.K),fe(e,"AID",t.V),fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&fe(e,"TO",t.qa),fe(e,"TYPE","xmlhttp"),zo(t,e),t.o&&t.s&&Gg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=fl(Fn(e)),n.u=null,n.S=!0,y0(n,t)}w.ib=function(){this.v!=null&&(this.v=null,ml(this),Wg(this),et(19))};function Xu(t){t.v!=null&&(k.clearTimeout(t.v),t.v=null)}function $0(t,e){var n=null;if(t.g==e){Xu(t),Kg(t),t.g=null;var r=2}else if(Tg(t.i,e))n=e.F,R0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ul(),He(r,new h0(r,n)),yl(t)}else j0(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&bF(t,e)||r==2&&Wg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zr(t,5);break;case 4:zr(t,10);break;case 3:zr(t,6);break;default:zr(t,2)}}}function H0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function zr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new Wr("//www.google.com/images/cleardot.gif"),k.location&&k.location.protocol=="http"||Ju(n,"https"),fl(n)),IF(n.toString(),r)}else et(2);t.H=0,t.h&&t.h.za(e),q0(t),L0(t)}w.pb=function(t){t?(this.l.info("Successfully pinged google.com"),et(2)):(this.l.info("Failed to ping google.com"),et(1))};function q0(t){if(t.H=0,t.ma=[],t.h){let e=M0(t.i);(e.length!=0||t.j.length!=0)&&(FD(t.ma,e),FD(t.ma,t.j),t.i.i.length=0,Rg(t.j),t.j.length=0),t.h.ya()}}function G0(t,e,n){var r=n instanceof Wr?Fn(n):new Wr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zu(r,r.m);else{var i=k.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wr(null);r&&Ju(s,r),e&&(s.g=e),i&&Zu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&fe(r,n,e),fe(r,"VER",t.ra),zo(t,r),r}function z0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ye(new qo({ob:n})):new ye(t.va),e.Oa(t.J),e}w.isActive=function(){return!!this.h&&this.h.isActive(this)};function W0(){}w=W0.prototype;w.Ba=function(){};w.Aa=function(){};w.za=function(){};w.ya=function(){};w.isActive=function(){return!0};w.Va=function(){};function el(){if(es&&!(10<=Number(H1)))throw Error("Environmental error: no available transport.")}el.prototype.g=function(t,e){return new pt(t,e)};function pt(t,e){Oe.call(this),this.g=new V0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Mo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ns(this)}ke(pt,Oe);pt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=G0(t,null,t.Y),yl(t)};pt.prototype.close=function(){zg(this.g)};pt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fg(t),t=n);e.j.push(new gF(e.fb++,t)),e.H==3&&yl(e)};pt.prototype.N=function(){this.g.h=null,delete this.j,zg(this.g),delete this.g,pt.$.N.call(this)};function K0(t){Bg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(K0,Bg);function Q0(){$g.call(this),this.status=1}ke(Q0,$g);function ns(t){this.g=t}ke(ns,W0);ns.prototype.Ba=function(){He(this.g,"a")};ns.prototype.Aa=function(t){He(this.g,new K0(t))};ns.prototype.za=function(t){He(this.g,new Q0)};ns.prototype.ya=function(){He(this.g,"b")};function SF(){this.blockSize=-1}function jt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(jt,SF);jt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}jt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)dg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){dg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){dg(this,r),i=0;break}}this.h=i,this.i+=e};jt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var AF={};function Qg(t){return-128<=t&&128>t?j1(t,function(e){return new oe([e|0],0>e?-1:0)}):new oe([t|0],0>t?-1:0)}function un(t){if(isNaN(t)||!isFinite(t))return Xi;if(0>t)return $e(un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=bg;return new oe(e,0)}function Y0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return $e(Y0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=un(Math.pow(e,8)),r=Xi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=un(Math.pow(e,s)),r=r.R(s).add(un(o))):(r=r.R(n),r=r.add(un(o)))}return r}var bg=4294967296,Xi=Qg(0),Sg=Qg(1),zD=Qg(16777216);w=oe.prototype;w.ea=function(){if(At(this))return-$e(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:bg+r)*e,e*=bg}return t};w.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(kn(this))return"0";if(At(this))return"-"+$e(this).toString(t);for(var e=un(Math.pow(t,6)),n=this,r="";;){var i=nl(n,e).g;n=tl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,kn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};w.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function kn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function At(t){return t.h==-1}w.X=function(t){return t=tl(this,t),At(t)?-1:kn(t)?0:1};function $e(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new oe(n,~t.h).add(Sg)}w.abs=function(){return At(this)?$e(this):this};w.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new oe(n,n[n.length-1]&-2147483648?-1:0)};function tl(t,e){return t.add($e(e))}w.R=function(t){if(kn(this)||kn(t))return Xi;if(At(this))return At(t)?$e(this).R($e(t)):$e($e(this).R(t));if(At(t))return $e(this.R($e(t)));if(0>this.X(zD)&&0>t.X(zD))return un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Yu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Yu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Yu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Yu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new oe(n,0)};function Yu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function bo(t,e){this.g=t,this.h=e}function nl(t,e){if(kn(e))throw Error("division by zero");if(kn(t))return new bo(Xi,Xi);if(At(t))return e=nl($e(t),e),new bo($e(e.g),$e(e.h));if(At(e))return e=nl(t,$e(e)),new bo($e(e.g),e.h);if(30<t.g.length){if(At(t)||At(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sg,r=e;0>=r.X(t);)n=WD(n),r=WD(r);var i=Ji(n,1),s=Ji(r,1);for(r=Ji(r,2),n=Ji(n,2);!kn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ji(r,1),n=Ji(n,1)}return e=tl(t,i.R(e)),new bo(i,e)}for(i=Xi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=un(n),o=s.R(e);At(o)||0<o.X(t);)n-=r,s=un(n),o=s.R(e);kn(s)&&(s=Sg),i=i.add(s),t=tl(t,o)}return new bo(i,t)}w.gb=function(t){return nl(this,t).h};w.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new oe(n,this.h&t.h)};w.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new oe(n,this.h|t.h)};w.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new oe(n,this.h^t.h)};function WD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new oe(n,t.h)}function Ji(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new oe(i,t.h)}el.prototype.createWebChannel=el.prototype.g;pt.prototype.send=pt.prototype.u;pt.prototype.open=pt.prototype.m;pt.prototype.close=pt.prototype.close;ll.NO_ERROR=0;ll.TIMEOUT=8;ll.HTTP_ERROR=6;f0.COMPLETE="complete";p0.EventType=Bo;Bo.OPEN="a";Bo.CLOSE="b";Bo.ERROR="c";Bo.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;jt.prototype.digest=jt.prototype.l;jt.prototype.reset=jt.prototype.reset;jt.prototype.update=jt.prototype.j;oe.prototype.add=oe.prototype.add;oe.prototype.multiply=oe.prototype.R;oe.prototype.modulo=oe.prototype.gb;oe.prototype.compare=oe.prototype.X;oe.prototype.toNumber=oe.prototype.ea;oe.prototype.toString=oe.prototype.toString;oe.prototype.getBits=oe.prototype.D;oe.fromNumber=un;oe.fromString=Y0;var J0=Bt.createWebChannelTransport=function(){return new el},Z0=Bt.getStatEventTarget=function(){return ul()},vl=Bt.ErrorCode=ll,X0=Bt.EventType=f0,eC=Bt.Event=Kr,Yg=Bt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},SW=Bt.FetchXmlHttpFactory=qo,Wo=Bt.WebChannel=p0,tC=Bt.XhrIo=ye,nC=Bt.Md5=jt,Qr=Bt.Integer=oe;var rC="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var Es="10.9.0";var ti=new tr("@firebase/firestore");function Ko(){return ti.logLevel}function E(t,...e){if(ti.logLevel<=K.DEBUG){let n=e.map(Ly);ti.debug(`Firestore (${Es}): ${t}`,...n)}}function mn(t,...e){if(ti.logLevel<=K.ERROR){let n=e.map(Ly);ti.error(`Firestore (${Es}): ${t}`,...n)}}function us(t,...e){if(ti.logLevel<=K.WARN){let n=e.map(Ly);ti.warn(`Firestore (${Es}): ${t}`,...n)}}function Ly(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function x(t="Unexpected state"){let e=`FIRESTORE (${Es}) INTERNAL ASSERTION FAILED: `+t;throw mn(e),new Error(e)}function de(t,e){t||x()}function V(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Dl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},nm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},rm=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new Dl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Fe(e)}},im=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},sm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new im(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},om=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},am=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new om(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function RF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Cl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=RF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ne(t,e){return t<e?-1:t>e?1:0}function ls(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var qe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var L=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new qe(0,0))}static max(){return new t(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&x(),r===void 0?r=e.length-n:r>e.length-n&&x(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ge=class t extends Tl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},MF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gt=class t extends Tl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return MF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var A=class t{constructor(e){this.path=e}static fromPath(e){return new t(ge.fromString(e))}static fromName(e){return new t(ge.fromString(e).popFirst(5))}static empty(){return new t(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ge(e.slice()))}};var cm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};cm.UNKNOWN_ID=-1;function xF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=L.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ni(i,A.empty(),e)}function NF(t){return new ni(t.readTime,t.key,-1)}var ni=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(L.min(),A.empty(),-1)}static max(){return new t(L.max(),A.empty(),-1)}};function PF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=A.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}var OF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",um=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ha(t){return p(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==OF)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&x(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var lm=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new hn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ei(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Uy(r.target.error);this.V.reject(new ei(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new ei(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new hm(n)}},bl=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(We())===12.2&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),Yr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Tu())return!1;if(t.C())return!0;let e=We(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new ei(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new C(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new C(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ei(e,o))},i.onupgradeneeded=s=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db})}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=lm.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),y.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},dm=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Yr(this.k.delete())}},ei=class extends C{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function fa(t){return t.name==="IndexedDbTransactionError"}var hm=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yr(r)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),Yr(this.store.add(e))}get(e){return Yr(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),Yr(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),Yr(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new y((r,i)=>{n.onerror=s=>{let o=Uy(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new dm(a),u=n(a.primaryKey,a.value,c);if(u instanceof y){let l=u.catch(d=>(c.done(),y.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Yr(t){return new y((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Uy(r.target.error);n(i)}})}var iC=!1;function Uy(t){let e=bl.S(We());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iC||(iC=!0,setTimeout(()=>{throw r},0)),r}}return t}var VC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function ed(t){return t==null}function ea(t){return t===0&&1/t==-1/0}function kF(t){return typeof t=="number"&&Number.isInteger(t)&&!ea(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var FF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],VW=[...FF,"documentOverlays"],VF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LF=VF,LW=[...LF,"indexConfiguration","indexState","indexEntries"];function sC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _e=class t{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}},os=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw x();let e=this.left.check();if(e!==this.right.check())throw x();return e+(this.isRed()?0:1)}};fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw x()}get value(){throw x()}get color(){throw x()}get left(){throw x()}get right(){throw x()}copy(e,n,r,i,s){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class t{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sl(this.data.getIterator())}getIteratorFrom(e){return new Sl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Sl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Je(gt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ls(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Al=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Al("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tt.EMPTY_BYTE_STRING=new tt("");var UF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(de(!!t),typeof t=="string"){let e=0,n=UF.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}function jy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function By(t){let e=t.mapValue.fields.__previous_value__;return jy(e)?By(e):e}function ta(t){let e=ur(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}var fm=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Rl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var _l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:UC(t)?9007199254740991:10:x()}function yn(t,e){if(t===e)return!0;let n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ta(t).isEqual(ta(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ur(i.timestampValue),a=ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return lr(i.bytesValue).isEqual(lr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ve(i.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ve(i.integerValue)===ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ve(i.doubleValue),a=ve(s.doubleValue);return o===a?ea(o)===ea(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ls(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(sC(o)!==sC(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!yn(o[c],a[c])))return!1;return!0}(t,e);default:return x()}}function na(t,e){return(t.values||[]).find(n=>yn(n,e))!==void 0}function ds(t,e){if(t===e)return 0;let n=ri(t),r=ri(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ve(s.integerValue||s.doubleValue),c=ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return oC(t.timestampValue,e.timestampValue);case 4:return oC(ta(t),ta(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(s,o){let a=lr(s),c=lr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ne(a[u],c[u]);if(l!==0)return l}return ne(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ne(ve(s.latitude),ve(o.latitude));return a!==0?a:ne(ve(s.longitude),ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ds(a[u],c[u]);if(l)return l}return ne(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===_l.mapValue&&o===_l.mapValue)return 0;if(s===_l.mapValue)return 1;if(o===_l.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ne(c[d],l[d]);if(h!==0)return h;let f=ds(a[c[d]],u[l[d]]);if(f!==0)return f}return ne(c.length,l.length)}(t.mapValue,e.mapValue);default:throw x()}}function oC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);let n=ur(t),r=ur(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function hs(t){return pm(t)}function pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return A.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=pm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${pm(n.fields[o])}`;return i+"}"}(t.mapValue):x()}function aC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gm(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function cC(t){return!!t&&"nullValue"in t}function uC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wl(t){return!!t&&"mapValue"in t}function Yo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var $t=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yo(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());wl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Yo(this.value))}};function jC(t){let e=[];return Ds(t.fields,(n,r)=>{let i=new gt([n]);if(wl(r)){let s=jC(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}var Ht=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,L.min(),L.min(),L.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,L.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,L.min(),L.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,L.min(),L.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(L.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=L.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fs=class{constructor(e,n){this.position=e,this.inclusive=n}};function lC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=A.comparator(A.fromName(o.referenceValue),n.key):r=ds(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}var ps=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function jF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ml=class{},Se=class t extends Ml{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ym(e,n,r):n==="array-contains"?new Im(e,r):n==="in"?new wm(e,r):n==="not-in"?new Em(e,r):n==="array-contains-any"?new Dm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vm(e,r):new _m(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return x()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},qt=class t extends Ml{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return BC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function BC(t){return t.op==="and"}function $C(t){return BF(t)&&BC(t)}function BF(t){for(let e of t.filters)if(e instanceof qt)return!1;return!0}function mm(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+hs(t.value);if($C(t))return t.filters.map(e=>mm(e)).join(",");{let e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function HC(t,e){return t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&yn(r.value,i.value)}(t,e):t instanceof qt?function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&HC(o,i.filters[a]),!0):!1}(t,e):void x()}function qC(t){return t instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${hs(n.value)}`}(t):t instanceof qt?function(n){return n.op.toString()+" {"+n.getFilters().map(qC).join(" ,")+"}"}(t):"Filter"}var ym=class extends Se{constructor(e,n,r){super(e,n,r),this.key=A.fromName(r.referenceValue)}matches(e){let n=A.comparator(e.key,this.key);return this.matchesComparison(n)}},vm=class extends Se{constructor(e,n){super(e,"in",n),this.keys=GC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},_m=class extends Se{constructor(e,n){super(e,"not-in",n),this.keys=GC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function GC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>A.fromName(r.referenceValue))}var Im=class extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $y(n)&&na(n.arrayValue,this.value)}},wm=class extends Se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&na(this.value.arrayValue,n)}},Em=class extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!na(this.value.arrayValue,n)}},Dm=class extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>na(this.value.arrayValue,r))}};var Cm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function hC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Cm(t,e,n,r,i,s,o)}function Hy(t){let e=V(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hs(r)).join(",")),e.ce=n}return e.ce}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dC(t.startAt,e.startAt)&&dC(t.endAt,e.endAt)}function Tm(t){return A.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ii=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function $F(t,e,n,r,i,s,o,a){return new ii(t,e,n,r,i,s,o,a)}function Gy(t){return new ii(t)}function fC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zC(t){return t.collectionGroup!==null}function Jo(t){let e=V(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(gt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ps(s,r))}),n.has(gt.keyField().canonicalString())||e.le.push(new ps(gt.keyField(),r))}return e.le}function pn(t){let e=V(t);return e.he||(e.he=HF(e,Jo(t))),e.he}function HF(t,e){if(t.limitType==="F")return hC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ps(i.field,s)});let n=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return hC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bm(t,e){let n=t.filters.concat([e]);return new ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return qy(pn(t),pn(e))&&t.limitType===e.limitType}function WC(t){return`${Hy(pn(t))}|lt:${t.limitType}`}function rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qC(i)).join(", ")}]`),ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hs(i)).join(",")),`Target(${r})`}(pn(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):A.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Jo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=lC(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Jo(r),i)||r.endAt&&!function(o,a,c){let u=lC(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Jo(r),i))}(t,e)}function qF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KC(t){return(e,n)=>{let r=!1;for(let i of Jo(t)){let s=GF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GF(t,e,n){let r=t.field.isKeyField()?A.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?ds(c,u):x()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return x()}}var dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return LC(this.inner)}size(){return this.innerSize}};var zF=new _e(A.comparator);function Ln(){return zF}var QC=new _e(A.comparator);function Qo(...t){let e=QC;for(let n of t)e=e.insert(n.key,n);return e}function YC(t){let e=QC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Zo()}function JC(){return Zo()}function Zo(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var WF=new _e(A.comparator),KF=new Je(A.comparator);function Q(...t){let e=KF;for(let n of t)e=e.add(n);return e}var QF=new Je(ne);function YF(){return QF}function ZC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ea(e)?"-0":e}}function XC(t){return{integerValue:""+t}}function JF(t,e){return kF(e)?XC(e):ZC(t,e)}var gs=class{constructor(){this._=void 0}};function ZF(t,e,n){return t instanceof ms?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jy(s)&&(s=By(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof si?tT(t,e):t instanceof oi?nT(t,e):function(i,s){let o=eT(i,s),a=pC(o)+pC(i.Ie);return gm(o)&&gm(i.Ie)?XC(a):ZC(i.serializer,a)}(t,e)}function XF(t,e,n){return t instanceof si?tT(t,e):t instanceof oi?nT(t,e):n}function eT(t,e){return t instanceof ys?function(r){return gm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ms=class extends gs{},si=class extends gs{constructor(e){super(),this.elements=e}};function tT(t,e){let n=rT(e);for(let r of t.elements)n.some(i=>yn(i,r))||n.push(r);return{arrayValue:{values:n}}}var oi=class extends gs{constructor(e){super(),this.elements=e}};function nT(t,e){let n=rT(e);for(let r of t.elements)n=n.filter(i=>!yn(i,r));return{arrayValue:{values:n}}}var ys=class extends gs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function pC(t){return ve(t.integerValue||t.doubleValue)}function rT(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof si&&i instanceof si||r instanceof oi&&i instanceof oi?ls(r.elements,i.elements,yn):r instanceof ys&&i instanceof ys?yn(r.Ie,i.Ie):r instanceof ms&&i instanceof ms}(t.transform,e.transform)}var Am=class{constructor(e,n){this.version=e,this.transformResults=n}},Vn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function El(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vs=class{};function iT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ra(t.key,Vn.none()):new ai(t.key,t.data,Vn.none());{let n=t.data,r=$t.empty(),i=new Je(gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Un(t.key,r,new dn(i.toArray()),Vn.none())}}function tV(t,e,n){t instanceof ai?function(i,s,o){let a=i.value.clone(),c=mC(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Un?function(i,s,o){if(!El(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=mC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(sT(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xo(t,e,n,r){return t instanceof ai?function(s,o,a,c){if(!El(s.precondition,o))return a;let u=s.value.clone(),l=yC(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Un?function(s,o,a,c){if(!El(s.precondition,o))return a;let u=yC(s.fieldTransforms,c,o),l=o.data;return l.setAll(sT(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return El(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=eT(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function gC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ls(r,i,(s,o)=>eV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ai=class extends vs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Un=class extends vs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function sT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function mC(t,e,n){let r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,XF(o,a,n[i]))}return r}function yC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,ZF(s,o,e))}return r}var ra=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Rm=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Mm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&tV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=JC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=iT(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(L.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Q())}isEqual(e){return this.batchId===e.batchId&&ls(this.mutations,e.mutations,(n,r)=>gC(n,r))&&ls(this.baseMutations,e.baseMutations,(n,r)=>gC(n,r))}},xm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=function(){return WF}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Nm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Te,X;function rV(t){switch(t){default:return x();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function oT(t){if(t===void 0)return mn("GRPC error has no .code"),g.UNKNOWN;switch(t){case Te.OK:return g.OK;case Te.CANCELLED:return g.CANCELLED;case Te.UNKNOWN:return g.UNKNOWN;case Te.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case Te.INTERNAL:return g.INTERNAL;case Te.UNAVAILABLE:return g.UNAVAILABLE;case Te.UNAUTHENTICATED:return g.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case Te.NOT_FOUND:return g.NOT_FOUND;case Te.ALREADY_EXISTS:return g.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return g.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case Te.ABORTED:return g.ABORTED;case Te.OUT_OF_RANGE:return g.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return g.UNIMPLEMENTED;case Te.DATA_LOSS:return g.DATA_LOSS;default:return x()}}(X=Te||(Te={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var vC=null;function iV(){return new TextEncoder}var sV=new Qr([4294967295,4294967295],0);function _C(t){let e=iV().encode(t),n=new nC;return n.update(e),new Uint8Array(n.digest())}function IC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qr([n,r],0),new Qr([i,s],0)]}var Om=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zr(`Invalid padding: ${n}`);if(r<0)throw new Zr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Qr.fromNumber(r)));return i.compare(sV)===1&&(i=new Qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=_C(e),[r,i]=IC(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=_C(e),[r,i]=IC(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Zr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(L.min(),i,new _e(ne),Ln(),Q())}},ia=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Q(),Q(),Q())}};var as=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Nl=class{constructor(e,n){this.targetId=e,this.fe=n}},Pl=class{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ol=class{constructor(){this.ge=0,this.pe=EC(),this.ye=tt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Q(),n=Q(),r=Q();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:x()}}),new ia(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=EC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,de(this.ge>=0)}Le(){this.Se=!0,this.we=!0}},km=class{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ln(),this.Qe=wC(),this.Ke=new _e(ne)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:x()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Tm(s))if(r===0){let o=new A(s.path);this.We(n,o,Ht.newNoDocument(o,L.min()))}else de(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}vC?.tt(function(l,d,h,f,m){var v,_,T,Z,G,ue;let Re={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ee=d.unchangedNames;return ee&&(Re.bloomFilter={applied:m===0,hashCount:(v=ee?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(Z=(T=(_=ee?.bits)===null||_===void 0?void 0:_.bitmap)===null||T===void 0?void 0:T.length)!==null&&Z!==void 0?Z:0,padding:(ue=(G=ee?.bits)===null||G===void 0?void 0:G.padding)!==null&&ue!==void 0?ue:0,mightContain:Me=>{var Wt;return(Wt=f?.mightContain(Me))!==null&&Wt!==void 0&&Wt}}),Re}(o,e.fe,this.Be.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=lr(r).toUint8Array()}catch(c){if(c instanceof Al)return us("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Om(o,i,s)}catch(c){return us(c instanceof Zr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Be.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Tm(a.target)){let c=new A(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Ht.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Q();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new xl(e,n,this.Ke,this.qe,r);return this.qe=Ln(),this.Qe=wC(),this.Ke=new _e(ne),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ol,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Je(ne),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Ol),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}};function wC(){return new _e(A.comparator)}function EC(){return new _e(A.comparator)}var oV={asc:"ASCENDING",desc:"DESCENDING"},aV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cV={and:"AND",or:"OR"},Fm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Vm(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function kl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uV(t,e){return kl(t,e.toTimestamp())}function gn(t){return de(!!t),L.fromTimestamp(function(n){let r=ur(n);return new qe(r.seconds,r.nanos)}(t))}function zy(t,e){return Lm(t,e).canonicalString()}function Lm(t,e){let n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cT(t){let e=ge.fromString(t);return de(fT(e)),e}function Um(t,e){return zy(t.databaseId,e.path)}function Jg(t,e){let n=cT(e);if(n.get(1)!==t.databaseId.projectId)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new A(lT(n))}function uT(t,e){return zy(t.databaseId,e)}function lV(t){let e=cT(t);return e.length===4?ge.emptyPath():lT(e)}function jm(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lT(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DC(t,e,n){return{name:Um(t,e),fields:n.value.mapValue.fields}}function dV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:x()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(de(l===void 0||typeof l=="string"),tt.fromBase64String(l||"")):(de(l===void 0||l instanceof Uint8Array),tt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?g.UNKNOWN:oT(u.code);return new C(l,u.message||"")}(o);n=new Pl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jg(t,r.document.name),s=gn(r.document.updateTime),o=r.document.createTime?gn(r.document.createTime):L.min(),a=new $t({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new as(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jg(t,r.document),s=r.readTime?gn(r.readTime):L.min(),o=Ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new as([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jg(t,r.document),s=r.removedTargetIds||[];n=new as([],s,i,null)}else{if(!("filter"in e))return x();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Pm(i,s),a=r.targetId;n=new Nl(a,o)}}return n}function hV(t,e){let n;if(e instanceof ai)n={update:DC(t,e.key,e.value)};else if(e instanceof ra)n={delete:Um(t,e.key)};else if(e instanceof Un)n={update:DC(t,e.key,e.data),updateMask:wV(e.fieldMask)};else{if(!(e instanceof Rm))return x();n={verify:Um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ms)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof si)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ys)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw x()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:x()}(t,e.precondition)),n}function fV(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gn(i.updateTime):gn(s);return o.isEqual(L.min())&&(o=gn(s)),new Am(o,i.transformResults||[])}(n,e))):[]}function pV(t,e){return{documents:[uT(t,e.path)]}}function gV(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uT(t,i);let s=function(u){if(u.length!==0)return hT(qt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:is(h.field),direction:vV(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Vm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function mV(t){let e=lV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){de(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=dT(d);return h instanceof qt&&$C(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new ps(ss(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ed(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new fs(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new fs(f,h)}(n.endAt)),$F(e,i,o,s,a,"F",c,u)}function yV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return x()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ss(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ss(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ss(n.unaryFilter.field);return Se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ss(n.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return x()}}(t):t.fieldFilter!==void 0?function(n){return Se.create(ss(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return x()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qt.create(n.compositeFilter.filters.map(r=>dT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return x()}}(n.compositeFilter.op))}(t):x()}function vV(t){return oV[t]}function _V(t){return aV[t]}function IV(t){return cV[t]}function is(t){return{fieldPath:t.canonicalString()}}function ss(t){return gt.fromServerFormat(t.fieldPath)}function hT(t){return t instanceof Se?function(n){if(n.op==="=="){if(uC(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(cC(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uC(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(cC(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:_V(n.op),value:n.value}}}(t):t instanceof qt?function(n){let r=n.getFilters().map(i=>hT(i));return r.length===1?r[0]:{compositeFilter:{op:IV(n.op),filters:r}}}(t):x()}function wV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var sa=class t{constructor(e,n,r,i,s=L.min(),o=L.min(),a=tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Bm=class{constructor(e){this.ct=e}};function EV(t){let e=mV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}var Fl=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),ea(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(lr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?UC(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):x()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),A.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Fl.bt=new Fl;var $m=class{constructor(){this._n=new Hm}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(ni.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},Hm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(ge.comparator)).toArray()}};var jW=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var oa=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var qm=class{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Gm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xo(r.mutation,i,dn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Q()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Q()){let i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qo();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Q()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ln(),o=Zo(),a=function(){return Zo()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Un)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Xo(l.mutation,u,l.mutation.getFieldMask(),qe.now())):o.set(u.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Gm(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Zo(),i=new _e((o,a)=>o-a),s=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||dn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Q()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=JC();l.forEach(h=>{if(!s.has(h)){let f=iT(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return A.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Jr()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Q())).next(l=>({batchId:a,changes:YC(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new A(n)).next(r=>{let i=Qo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Qo();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new ii(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Ht.newInvalidDocument(l)))});let a=Qo();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Xo(l.mutation,u,dn.empty(),qe.now()),nd(n,u)&&(a=a.insert(c,u))}),a})}};var Wm=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gn(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:EV(i.bundledQuery),readTime:gn(i.readTime)}}(n)),y.resolve()}};var Km=class{constructor(){this.overlays=new _e(A.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Jr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Jr(),s=n.length+1,o=new A(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _e((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Jr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Jr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Nm(n,r));let s=this.hr.get(n);s===void 0&&(s=Q(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var aa=class{constructor(){this.Pr=new Je(be.Ir),this.Tr=new Je(be.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new be(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new be(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new A(new ge([])),r=new be(n,e),i=new be(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new A(new ge([])),r=new be(n,e),i=new be(n,e+1),s=Q();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new be(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},be=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return A.comparator(e.key,n.key)||ne(e.pr,n.pr)}static Er(e,n){return ne(e.pr,n.pr)||A.comparator(e.key,n.key)}};var Qm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Je(be.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Mm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new be(n,0),i=new be(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ne);return n.forEach(i=>{let s=new be(i,0),o=new be(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;A.isDocumentKey(s)||(s=s.child(""));let o=new be(new A(s),0),a=new Je(ne);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return y.forEach(n.mutations,i=>{let s=new be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new be(n,0),i=this.wr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ym=class{constructor(e){this.vr=e,this.docs=function(){return new _e(A.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln(),o=n.path,a=new A(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||PF(NF(l),r)<=0||(i.has(l.key)||nd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){x()}Fr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jm(this)}getSize(e){return y.resolve(this.size)}},Jm=class extends qm{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Zm=class{constructor(e){this.persistence=e,this.Mr=new dr(n=>Hy(n),qy),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.Or=0,this.Nr=new aa,this.targetCount=0,this.Lr=oa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new oa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var Xm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new VC(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Zm(this),this.indexManager=new $m,this.remoteDocumentCache=function(i){return new Ym(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Bm(n),this.$r=new Wm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Km,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Qm(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new ey(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},ey=class extends um{constructor(e){super(),this.currentSequenceNumber=e}},ty=class t{constructor(e){this.persistence=e,this.zr=new aa,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw x()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,r=>{let i=A.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,L.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var ny=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Q(),i=Q();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var ry=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iy=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return iD()?8:bl.v(We())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ry;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ko()<=K.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(Ko()<=K.DEBUG&&E("QueryEngine","Query:",rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ko()<=K.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(n))):y.resolve())}ji(e,n){if(fC(n))return y.resolve(null);let r=pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sm(n,null,"F"),r=pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Q(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Sm(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return fC(n)||i.isEqual(L.min())?y.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?y.resolve(null):(Ko()<=K.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rs(n)),this.es(e,o,n,xF(i,-1)).next(a=>a))})}Zi(e,n){let r=new Je(KC(e));return n.forEach((i,s)=>{nd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ko()<=K.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",rs(n)),this.zi.getDocumentsMatchingQuery(e,n,ni.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var sy=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new _e(ne),this.rs=new dr(s=>Hy(s),qy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function DV(t,e,n,r){return new sy(t,e,n,r)}function pT(t,e){return p(this,null,function*(){let n=V(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Q();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function CV(t,e){let n=V(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=y.resolve();return h.forEach(m=>{f=f.next(()=>l.getEntry(c,m)).next(v=>{let _=u.docVersions.get(m);de(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),l.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Q();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gT(t){let e=V(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function TV(t,e){let n=V(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(tt.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(v,_,T){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=Ln(),u=Q();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(bV(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(L.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function bV(t,e,n){let r=Q(),i=Q();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(L.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function SV(t,e){let n=V(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AV(t,e){let n=V(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new sa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function oy(t,e,n){return p(this,null,function*(){let r=V(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!fa(o))throw o;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function CC(t,e,n){let r=V(t),i=L.min(),s=Q();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=V(c),h=d.rs.get(l);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:L.min(),n?s:Q())).next(a=>(RV(r,qF(e),a),{documents:a,hs:s})))}function RV(t,e,n){let r=t.ss.get(e)||L.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Vl=class{constructor(){this.activeTargetIds=YF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ay=class{constructor(){this.no=new Vl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Vl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cy=class{io(e){}shutdown(){}};var Ll=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Il=null;function Zg(){return Il===null?Il=function(){return 268435456+Math.round(2147483648*Math.random())}():Il++,"0x"+Il.toString(16)}var MV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var uy=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ye="WebChannelConnection",ly=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Zg(),c=this.bo(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw us("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Es}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=MV[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Zg();return new Promise((o,a)=>{let c=new tC;c.setWithCredentials(!0),c.listenOnce(X0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vl.NO_ERROR:let l=c.getResponseJson();E(Ye,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case vl.TIMEOUT:E(Ye,`RPC '${e}' ${s} timed out`),a(new C(g.DEADLINE_EXCEEDED,"Request time out"));break;case vl.HTTP_ERROR:let d=c.getStatus();if(E(Ye,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(_){let T=_.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(T)>=0?T:g.UNKNOWN}(f.status);a(new C(m,f.message))}else a(new C(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(g.UNAVAILABLE,"Connection failed."));break;default:x()}}finally{E(Ye,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(Ye,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Zg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=J0(),a=Z0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(Ye,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,m=new uy({lo:_=>{f?E(Ye,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(E(Ye,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(Ye,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),v=(_,T,Z)=>{_.listen(T,G=>{try{Z(G)}catch(ue){setTimeout(()=>{throw ue},0)}})};return v(d,Wo.EventType.OPEN,()=>{f||E(Ye,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Wo.EventType.CLOSE,()=>{f||(f=!0,E(Ye,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),v(d,Wo.EventType.ERROR,_=>{f||(f=!0,us(Ye,`RPC '${e}' stream ${i} transport errored:`,_),m.Vo(new C(g.UNAVAILABLE,"The operation could not be completed")))}),v(d,Wo.EventType.MESSAGE,_=>{var T;if(!f){let Z=_.data[0];de(!!Z);let G=Z,ue=G.error||((T=G[0])===null||T===void 0?void 0:T.error);if(ue){E(Ye,`RPC '${e}' stream ${i} received error:`,ue);let Re=ue.status,ee=function(_r){let hi=Te[_r];if(hi!==void 0)return oT(hi)}(Re),Me=ue.message;ee===void 0&&(ee=g.INTERNAL,Me="Unknown error status: "+Re+" with message "+ue.message),f=!0,m.Vo(new C(ee,Me)),d.close()}else E(Ye,`RPC '${e}' stream ${i} received:`,Z),m.mo(Z)}}),v(a,eC.STAT_EVENT,_=>{_.stat===Yg.PROXY?E(Ye,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Yg.NOPROXY&&E(Ye,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}};function Xg(){return typeof document<"u"?document:null}function rd(t){return new Fm(t,!0)}var Ul=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}};var jl=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ul(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(mn(n.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new C(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},dy=class extends jl{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=dV(this.serializer,e),r=function(s){if(!("targetChange"in s))return L.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?L.min():o.readTime?gn(o.readTime):L.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=jm(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Tm(c)?{documents:pV(s,c)}:{query:gV(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aT(s,o.resumeToken);let u=Vm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(L.min())>0){a.readTime=kl(s,o.snapshotVersion.toTimestamp());let u=Vm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=yV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=jm(this.serializer),n.removeTarget=e,this.t_(n)}},hy=class extends jl{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=fV(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.T_(r,n)}return de(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=jm(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>hV(this.serializer,r))};this.t_(n)}};var fy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Lm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(g.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Lm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(g.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var py=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(mn(n),this.g_=!1):E("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var gy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>p(this,null,function*(){ci(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=V(c);u.v_.add(4),yield pa(u),u.x_.set("Unknown"),u.v_.delete(4),yield id(u)})}(this))}))}),this.x_=new py(r,i)}};function id(t){return p(this,null,function*(){if(ci(t))for(let e of t.F_)yield e(!0)})}function pa(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function mT(t,e){let n=V(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Yy(n)?Qy(n):Cs(n).Jo()&&Ky(n,e))}function Wy(t,e){let n=V(t),r=Cs(n);n.C_.delete(e),r.Jo()&&yT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ci(n)&&n.x_.set("Unknown"))}function Ky(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(L.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cs(t).c_(e)}function yT(t,e){t.O_.Oe(e),Cs(t).l_(e)}function Qy(t){t.O_=new km({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Cs(t).start(),t.x_.p_()}function Yy(t){return ci(t)&&!Cs(t).Ho()&&t.C_.size>0}function ci(t){return V(t).v_.size===0}function vT(t){t.O_=void 0}function xV(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{Ky(t,e)})})}function NV(t,e){return p(this,null,function*(){vT(t),Yy(t)?(t.x_.S_(e),Qy(t)):t.x_.set("Unknown")})}function PV(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof Pl&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bl(t,r)}else if(e instanceof as?t.O_.$e(e):e instanceof Nl?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(L.min()))try{let r=yield gT(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(tt.EMPTY_BYTE_STRING,l.snapshotVersion)),yT(s,c);let d=new sa(l.target,c,u,l.sequenceNumber);Ky(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){E("RemoteStore","Failed to raise snapshot:",r),yield Bl(t,r)}})}function Bl(t,e,n){return p(this,null,function*(){if(!fa(e))throw e;t.v_.add(1),yield pa(t),t.x_.set("Offline"),n||(n=()=>gT(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield id(t)}))})}function _T(t,e){return e().catch(n=>Bl(t,n,e))}function sd(t){return p(this,null,function*(){let e=V(t),n=hr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;OV(e);)try{let i=yield SV(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,kV(e,i)}catch(i){yield Bl(e,i)}IT(e)&&wT(e)})}function OV(t){return ci(t)&&t.D_.length<10}function kV(t,e){t.D_.push(e);let n=hr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function IT(t){return ci(t)&&!hr(t).Ho()&&t.D_.length>0}function wT(t){hr(t).start()}function FV(t){return p(this,null,function*(){hr(t).d_()})}function VV(t){return p(this,null,function*(){let e=hr(t);for(let n of t.D_)e.I_(n.mutations)})}function LV(t,e,n){return p(this,null,function*(){let r=t.D_.shift(),i=xm.from(r,e,n);yield _T(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield sd(t)})}function UV(t,e){return p(this,null,function*(){e&&hr(t).P_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return rV(o)&&o!==g.ABORTED}(i.code)){let s=r.D_.shift();hr(r).Zo(),yield _T(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield sd(r)}})}(t,e)),IT(t)&&wT(t)})}function TC(t,e){return p(this,null,function*(){let n=V(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=ci(n);n.v_.add(3),yield pa(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield id(n)})}function jV(t,e){return p(this,null,function*(){let n=V(t);e?(n.v_.delete(2),yield id(n)):e||(n.v_.add(2),yield pa(n),n.x_.set("Unknown"))})}function Cs(t){return t.N_||(t.N_=function(n,r,i){let s=V(n);return s.R_(),new dy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:xV.bind(null,t),To:NV.bind(null,t),u_:PV.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),Yy(t)?Qy(t):t.x_.set("Unknown")):(yield t.N_.stop(),vT(t))}))),t.N_}function hr(t){return t.L_||(t.L_=function(n,r,i){let s=V(n);return s.R_(),new hy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:FV.bind(null,t),To:UV.bind(null,t),E_:VV.bind(null,t),T_:LV.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.L_.Zo(),yield sd(t)):(yield t.L_.stop(),t.D_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.L_}var my=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Jy(t,e){if(mn("AsyncQueue",`${e}: ${t}`),fa(t))return new C(g.UNAVAILABLE,`${e}: ${t}`);throw t}var $l=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||A.comparator(n.key,r.key):(n,r)=>A.comparator(n.key,r.key),this.keyedMap=Qo(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Hl=class{constructor(){this.B_=new _e(A.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):x():this.B_=this.B_.insert(n,e)}k_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},_s=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,$l.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var yy=class{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}},vy=class{constructor(){this.queries=new dr(e=>WC(e),td),this.onlineState="Unknown",this.W_=new Set}};function BV(t,e){return p(this,null,function*(){let n=V(t),r=3,i=e.query,s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new yy,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield n.onListen(i,!0);break;case 1:s.q_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Jy(o,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Zy(n)})}function $V(t,e){return p(this,null,function*(){let n=V(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function HV(t,e){let n=V(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&Zy(n)}function qV(t,e,n){let r=V(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Zy(t){t.W_.forEach(e=>{e.next()})}var _y,bC;(bC=_y||(_y={})).j_="default",bC.Cache="cache";var Iy=class{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;let r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;let n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==_y.Cache}};var ql=class{constructor(e){this.key=e}},Gl=class{constructor(e){this.key=e}},wy=class{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Q(),this.mutatedKeys=Q(),this.ha=KC(e),this.Pa=new $l(this.ha)}get Ia(){return this.ua}Ta(e,n){let r=n?n.Ea:new Hl,i=n?n.Pa:this.Pa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=nd(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),_=!1;h&&f?h.data.isEqual(f.data)?m!==v&&(r.track({type:3,doc:f}),_=!0):this.da(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.ha(f,c)>0||u&&this.ha(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||u)&&(a=!0)),_&&(f?(o=o.add(f),s=v?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;let o=e.Ea.k_();o.sort((l,d)=>function(f,m){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return x()}};return v(f)-v(m)}(l.type,d.type)||this.ha(l.doc,d.doc)),this.Aa(r),i=i!=null&&i;let a=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,u=c!==this.ca;return this.ca=c,o.length!==0||u?{snapshot:new _s(this.query,e.Pa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Hl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];let e=this.la;this.la=Q(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});let n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Gl(r))}),this.la.forEach(r=>{e.has(r)||n.push(new ql(r))}),n}fa(e){this.ua=e.hs,this.la=Q();let n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return _s.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}},Ey=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Dy=class{constructor(e){this.key=e,this.pa=!1}},Cy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new dr(a=>WC(a),td),this.Sa=new Map,this.ba=new Set,this.Da=new _e(A.comparator),this.Ca=new Map,this.va=new aa,this.Fa={},this.Ma=new Map,this.xa=oa.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}};function GV(t,e,n=!0){return p(this,null,function*(){let r=ST(t),i,s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield ET(r,e,n,!0),i})}function zV(t,e){return p(this,null,function*(){let n=ST(t);yield ET(n,e,!0,!1)})}function ET(t,e,n,r){return p(this,null,function*(){let i=yield AV(t.localStore,pn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield WV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mT(t.remoteStore,i),a})}function WV(t,e,n,r,i){return p(this,null,function*(){t.Na=(d,h,f)=>function(v,_,T,Z){return p(this,null,function*(){let G=_.view.Ta(T);G.Xi&&(G=yield CC(v.localStore,_.query,!1).then(({documents:Me})=>_.view.Ta(Me,G)));let ue=Z&&Z.targetChanges.get(_.targetId),Re=Z&&Z.targetMismatches.get(_.targetId)!=null,ee=_.view.applyChanges(G,v.isPrimaryClient,ue,Re);return AC(v,_.targetId,ee.Va),ee.snapshot})}(t,d,h,f);let s=yield CC(t.localStore,e,!0),o=new wy(e,s.hs),a=o.Ta(s.documents),c=ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);AC(t,n,u.Va);let l=new Ey(e,n,o);return t.wa.set(e,l),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot})}function KV(t,e,n){return p(this,null,function*(){let r=V(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!td(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield oy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wy(r.remoteStore,i.targetId),Ty(r,i.targetId)}).catch(ha))):(Ty(r,i.targetId),yield oy(r.localStore,i.targetId,!0))})}function QV(t,e){return p(this,null,function*(){let n=V(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wy(n.remoteStore,r.targetId))})}function YV(t,e,n){return p(this,null,function*(){let r=rL(t);try{let i=yield function(o,a){let c=V(o),u=qe.now(),l=a.reduce((f,m)=>f.add(m.key),Q()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Ln(),v=Q();return c.os.getEntries(f,l).next(_=>{m=_,m.forEach((T,Z)=>{Z.isValidDocument()||(v=v.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(_=>{d=_;let T=[];for(let Z of a){let G=nV(Z,d.get(Z.key).overlayedDocument);G!=null&&T.push(new Un(Z.key,G,jC(G.value.mapValue),Vn.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,T,a)}).next(_=>{h=_;let T=_.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(f,_.batchId,T)})}).then(()=>({batchId:h.batchId,changes:YC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Fa[o.currentUser.toKey()];u||(u=new _e(ne)),u=u.insert(a,c),o.Fa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield ga(r,i.changes),yield sd(r.remoteStore)}catch(i){let s=Jy(i,"Failed to persist write");n.reject(s)}})}function DT(t,e){return p(this,null,function*(){let n=V(t);try{let r=yield TV(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ca.get(s);o&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?de(o.pa):i.removedDocuments.size>0&&(de(o.pa),o.pa=!1))}),yield ga(n,r,e)}catch(r){yield ha(r)}})}function SC(t,e,n){let r=V(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wa.forEach((s,o)=>{let a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=V(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.G_(a)&&(u=!0)}),u&&Zy(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JV(t,e,n){return p(this,null,function*(){let r=V(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ca.get(e),s=i&&i.key;if(s){let o=new _e(A.comparator);o=o.insert(s,Ht.newNoDocument(s,L.min()));let a=Q().add(s),c=new xl(L.min(),new Map,new _e(ne),o,a);yield DT(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),Xy(r)}else yield oy(r.localStore,e,!1).then(()=>Ty(r,e,n)).catch(ha)})}function ZV(t,e){return p(this,null,function*(){let n=V(t),r=e.batch.batchId;try{let i=yield CV(n.localStore,e);TT(n,r,null),CT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ga(n,i)}catch(i){yield ha(i)}})}function XV(t,e,n){return p(this,null,function*(){let r=V(t);try{let i=yield function(o,a){let c=V(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(de(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);TT(r,e,n),CT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ga(r,i)}catch(i){yield ha(i)}})}function CT(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function TT(t,e,n){let r=V(t),i=r.Fa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||bT(t,r)})}function bT(t,e){t.ba.delete(e.path.canonicalString());let n=t.Da.get(e);n!==null&&(Wy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Xy(t))}function AC(t,e,n){for(let r of n)r instanceof ql?(t.va.addReference(r.key,e),eL(t,r)):r instanceof Gl?(E("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||bT(t,r.key)):x()}function eL(t,e){let n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(E("SyncEngine","New document in limbo: "+n),t.ba.add(r),Xy(t))}function Xy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){let e=t.ba.values().next().value;t.ba.delete(e);let n=new A(ge.fromString(e)),r=t.xa.next();t.Ca.set(r,new Dy(n)),t.Da=t.Da.insert(n,r),mT(t.remoteStore,new sa(pn(Gy(n.path)),r,"TargetPurposeLimboResolution",VC._e))}}function ga(t,e,n){return p(this,null,function*(){let r=V(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=ny.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.ya.u_(i),yield function(c,u){return p(this,null,function*(){let l=V(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!fa(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);l.ns=l.ns.insert(h,v)}}})}(r.localStore,s))})}function tL(t,e){return p(this,null,function*(){let n=V(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield pT(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(c=>{c.reject(new C(g.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ga(n,r.us)}})}function nL(t,e){let n=V(t),r=n.Ca.get(e);if(r&&r.pa)return Q().add(r.key);{let i=Q(),s=n.Sa.get(e);if(!s)return i;for(let o of s){let a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function ST(t){let e=V(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JV.bind(null,e),e.ya.u_=HV.bind(null,e.eventManager),e.ya.La=qV.bind(null,e.eventManager),e}function rL(t){let e=V(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XV.bind(null,e),e}var zl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=rd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DV(this.persistence,new iy,e.initialUser,this.serializer)}createPersistence(e){return new Xm(ty.Hr,this.serializer)}createSharedClientState(e){return new ay}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var by=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tL.bind(null,this.syncEngine),yield jV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new vy}()}createDatastore(e){let n=rd(e.databaseInfo.databaseId),r=function(s){return new ly(s)}(e.databaseInfo);return function(s,o,a,c){return new fy(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new gy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SC(this.syncEngine,n,0),function(){return Ll.D()?new Ll:new cy}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Cy(i,s,o,a,c,u);return l&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=V(r);E("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield pa(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Sy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Ay=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Cl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Jy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function em(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield pT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function RC(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield sL(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>TC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>TC(e.remoteStore,i)),t._onlineComponents=e})}function iL(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function sL(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield em(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!iL(n))throw n;us("Error using user provided cache. Falling back to memory cache: "+n),yield em(t,new zl)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield em(t,new zl);return t._offlineComponents})}function AT(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield RC(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield RC(t,new by))),t._onlineComponents})}function oL(t){return AT(t).then(e=>e.syncEngine)}function MC(t){return p(this,null,function*(){let e=yield AT(t),n=e.eventManager;return n.onListen=GV.bind(null,e.syncEngine),n.onUnlisten=KV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QV.bind(null,e.syncEngine),n})}function RT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var xC=new Map;function MT(t,e,n){if(!n)throw new C(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aL(t,e,n,r){if(e===!0&&r===!0)throw new C(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NC(t){if(!A.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PC(t){if(A.isDocumentKey(t))throw new C(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":x()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=od(t);throw new C(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Wl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Is=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tm;switch(r.type){case"firstParty":return new sm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=xC.get(n);r&&(E("ComponentProvider","Removing Datastore"),xC.delete(n),r.terminate())}(this),Promise.resolve()}};function xT(t,e,n,r={}){var i;let s=(t=ar(t,Is))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Fe.MOCK_USER;else{a=eD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fe(u)}t._authCredentials=new nm(new Dl(a,c))}}var ws=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},cr=class t extends ws{constructor(e,n,r){super(e,n,Gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new A(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NT(t,e,...n){if(t=ft(t),MT("collection","path",e),t instanceof Is){let r=ge.fromString(e,...n);return PC(r),new cr(t,null,r)}{if(!(t instanceof ut||t instanceof cr))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ge.fromString(e,...n));return PC(r),new cr(t.firestore,null,r)}}function ev(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Cl.newId()),MT("doc","path",e),t instanceof Is){let r=ge.fromString(e,...n);return NC(r),new ut(t,null,new A(r))}{if(!(t instanceof ut||t instanceof cr))throw new C(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ge.fromString(e,...n));return NC(r),new ut(t.firestore,t instanceof cr?t.converter:null,new A(r))}}var Ry=class{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Ul(this,"async_queue_retry"),this.cu=()=>{let n=Xg();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Xg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;let n=Xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});let n=new hn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){return p(this,null,function*(){if(this.ru.length!==0){try{yield this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!fa(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}})}hu(e){let n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw mn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);let i=my.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&x()}verifyOperationInProgress(){}Tu(){return p(this,null,function*(){let e;do e=this.nu,yield e;while(e!==this.nu)})}Eu(e){for(let n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){let n=this.su.indexOf(e);this.su.splice(n,1)}};function OC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var fr=class extends Is{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Ry}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kT(this),this._firestoreClient.terminate()}};function PT(t,e){let n=typeof t=="object"?t:vo(),r=typeof t=="string"?t:e||"(default)",i=$p(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ZE("firestore");s&&xT(i,...s)}return i}function OT(t){return t._firestoreClient||kT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kT(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new fm(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,RT(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Ay(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ca=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tt.fromBase64String(e))}catch(n){throw new C(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ua=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kl=class{constructor(e){this._methodName=e}};var la=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}};var cL=/^__.*__$/,My=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Un(e,this.data,this.fieldMask,n,this.fieldTransforms):new ai(e,this.data,n,this.fieldTransforms)}};function FT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw x()}}var xy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Ql(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(FT(this.Vu)&&cL.test(e))throw this.Su('Document fields cannot begin and end with "__"')}},Ny=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rd(e)}Cu(e,n,r,i=!1){return new xy({Vu:e,methodName:n,Du:r,path:gt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tv(t){let e=t._freezeSettings(),n=rd(t._databaseId);return new Ny(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VT(t,e,n,r,i,s={}){let o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);jT("Data must be an object, but it was:",o,r);let a=LT(r,o),c,u;if(s.merge)c=new dn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=lL(e,d,n);if(!o.contains(h))throw new C(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);hL(l,h)||l.push(h)}c=new dn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new My(new $t(a),c,u)}function uL(t,e,n,r=!1){return nv(n,t.Cu(r?4:3,e))}function nv(t,e){if(UT(t=ft(t)))return jT("Unsupported field value:",e,t),LT(t,e);if(t instanceof Kl)return function(r,i){if(!FT(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=nv(a,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=qe.fromDate(r);return{timestampValue:kl(i.serializer,s)}}if(r instanceof qe){let s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kl(i.serializer,s)}}if(r instanceof la)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:aT(i.serializer,r._byteString)};if(r instanceof ut){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${od(r)}`)}(t,e)}function LT(t,e){let n={};return LC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{let s=nv(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof la||t instanceof ca||t instanceof ut||t instanceof Kl)}function jT(t,e,n){if(!UT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=od(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function lL(t,e,n){if((e=ft(e))instanceof ua)return e._internalPath;if(typeof e=="string")return BT(t,e);throw Ql("Field path arguments must be of type string or ",t,!1,void 0,n)}var dL=new RegExp("[~\\*/\\[\\]]");function BT(t,e,n){if(e.search(dL)>=0)throw Ql(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ua(...e.split("."))._internalPath}catch{throw Ql(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ql(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(g.INVALID_ARGUMENT,a+t+c)}function hL(t,e){return t.some(n=>n.isEqual(e))}var Yl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Py(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(rv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Py=class extends Yl{data(){return super.data()}};function rv(t,e){return typeof e=="string"?BT(t,e):e instanceof ua?e._internalPath:e._delegate._internalPath}function fL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var da=class{},Oy=class extends da{};function $T(t,e,...n){let r=[];e instanceof da&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof ky).length,a=s.filter(c=>c instanceof Jl).length;if(o>1||o>0&&a>0)throw new C(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Jl=class t extends Oy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return qT(e._query,n),new ws(e.firestore,e.converter,bm(e._query,n))}_parse(e){let n=tv(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){FC(d,l);let f=[];for(let m of d)f.push(kC(c,s,m));h={arrayValue:{values:f}}}else h=kC(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||FC(d,l),h=uL(a,o,d,l==="in"||l==="not-in");return Se.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function HT(t,e,n){let r=e,i=rv("where",t);return Jl._create(i,r,n)}var ky=class t extends da{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)qT(o,c),o=bm(o,c)}(e._query,n),new ws(e.firestore,e.converter,bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function kC(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new C(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zC(e)&&n.indexOf("/")!==-1)throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ge.fromString(n));if(!A.isDocumentKey(r))throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aC(t,new A(r))}if(n instanceof ut)return aC(t,n._key);throw new C(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(n)}.`)}function FC(t,e){if(!Array.isArray(t)||t.length===0)throw new C(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qT(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Fy=class{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw x()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new la(ve(e.latitude),ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=By(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){let n=ur(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ge.fromString(e);de(fT(r));let i=new Rl(r.get(1),r.get(3)),s=new A(r.popFirst(5));return i.isEqual(n)||mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function GT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Xr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zl=class extends Yl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(rv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},cs=class extends Zl{data(e={}){return super.data(e)}},Vy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cs(this._firestore,this._userDataWriter,r.key,r,new Xr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:pL(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function pL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return x()}}var Xl=class extends Fy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function zT(t,e,n){t=ar(t,ut);let r=ar(t.firestore,fr),i=GT(t.converter,e,n);return iv(r,[VT(tv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vn.none())])}function WT(t){return iv(ar(t.firestore,fr),[new ra(t._key,Vn.none())])}function KT(t,e){let n=ar(t.firestore,fr),r=ev(t),i=GT(t.converter,e);return iv(n,[VT(tv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function ad(t,...e){var n,r,i;t=ft(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||OC(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(OC(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof ut)u=ar(t.firestore,fr),l=Gy(t._key.path),c={next:d=>{e[o]&&e[o](gL(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=ar(t,ws);u=ar(d.firestore,fr),l=d._query;let h=new Xl(u);c={next:f=>{e[o]&&e[o](new Vy(u,h,d,f))},error:e[o+1],complete:e[o+2]},fL(t._query)}return function(h,f,m,v){let _=new Sy(v),T=new Iy(f,_,m);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return BV(yield MC(h),T)})),()=>{_.Qa(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return $V(yield MC(h),T)}))}}(OT(u),l,a,c)}function iv(t,e){return function(r,i){let s=new hn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return YV(yield oL(r),i,s)})),s.promise}(OT(t),e)}function gL(t,e,n){let r=n.docs.get(e._key),i=new Xl(t);return new Zl(t,i,e._key,r,new Xr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Es=i})(Ki),rr(new St("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new fr(new rm(r.getProvider("auth-internal")),new am(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pe(rC,"4.5.0",e),Pe(rC,"4.5.0","esm2017")})();var cd=function(){return cd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cd.apply(this,arguments)};var vL={includeMetadataChanges:!1};function QT(t,e){return e===void 0&&(e=vL),new z(function(n){var r=ad(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function YT(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:cd(cd({},r),(n={},n[e.idField]=t.id,n))}function JT(t){return QT(t,{includeMetadataChanges:!0}).pipe(B(function(e){return e.docs}))}function ZT(t,e){return e===void 0&&(e={}),JT(t).pipe(B(function(n){return n.map(function(r){return YT(r,e)})}))}var Gt=class{constructor(e){return e}},XT="firestore",sv=class{constructor(){return Io(XT)}};var ov=new M("angularfire2.firestore-instances");function _L(t,e){let n=Gp(XT,t,e);return n&&new Gt(n)}function IL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gt(r)}}var wL={provide:sv,deps:[[new Tt,ov]]},EL={provide:Gt,useFactory:_L,deps:[[new Tt,ov],$r]},DL=(()=>{class t{constructor(){Pe("angularfire",Yi.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Et({type:t});static \u0275inj=Ct({providers:[EL,wL]})}return t})();function eb(t,...e){return{ngModule:DL,providers:[{provide:ov,useFactory:IL(t),multi:!0,deps:[ie,ot,wo,Eo,[new Tt,Hu],[new Tt,_o],...e]}]}}var tb=ct(ZT,!0);var ud=ct(KT,!0);var pr=ct(NT,!0);var ld=ct(WT,!0);var Ts=ct(ev,!0);var nb=ct(PT,!0);var rb=ct(ad,!0);var ib=ct($T,!0);var sb=ct(zT,!0);var ob=ct(HT,!0);var U="primary",xa=Symbol("RouteTitle"),dv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ms(t){return new dv(t)}function CL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function TL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vn(t[n],e[n]))return!1;return!0}function vn(t,e){let n=t?hv(t):void 0,r=e?hv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!gb(t[i],e[i]))return!1;return!0}function hv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function mb(t){return t.length>0?t[t.length-1]:null}function vr(t){return lh(t)?t:Vr(t)?pe(Promise.resolve(t)):N(t)}var bL={exact:vb,subset:_b},yb={exact:SL,subset:AL,ignored:()=>!0};function ab(t,e,n){return bL[n.paths](t.root,e.root,n.matrixParams)&&yb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function SL(t,e){return vn(t,e)}function vb(t,e,n){if(!li(t.segments,e.segments)||!fd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vb(t.children[r],e.children[r],n))return!1;return!0}function AL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gb(t[n],e[n]))}function _b(t,e,n){return Ib(t,e,e.segments,n)}function Ib(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!li(i,n)||e.hasChildren()||!fd(i,n,r))}else if(t.segments.length===n.length){if(!li(t.segments,n)||!fd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!_b(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!li(t.segments,i)||!fd(t.segments,i,r)||!t.children[U]?!1:Ib(t.children[U],e,s,r)}}function fd(t,e,n){return e.every((r,i)=>yb[n](t[i].parameters,r.parameters))}var gr=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){return xL.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pd(this)}},ui=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ms(this.parameters),this._parameterMap}toString(){return Eb(this)}};function RL(t,e){return li(t,e)&&t.every((n,r)=>vn(n.parameters,e[r].parameters))}function li(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ML(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var Na=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>new Ea,providedIn:"root"});let t=e;return t})(),Ea=class{parse(e){let n=new pv(e);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ma(e.root,!0)}`,r=OL(e.queryParams),i=typeof e.fragment=="string"?`#${NL(e.fragment)}`:"";return`${n}${r}${i}`}},xL=new Ea;function pd(t){return t.segments.map(e=>Eb(e)).join("/")}function ma(t,e){if(!t.hasChildren())return pd(t);if(e){let n=t.children[U]?ma(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==U&&r.push(`${i}:${ma(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ML(t,(r,i)=>i===U?[ma(t.children[U],!1)]:[`${i}:${ma(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${pd(t)}/${n[0]}`:`${pd(t)}/(${n.join("//")})`}}function wb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dd(t){return wb(t).replace(/%3B/gi,";")}function NL(t){return encodeURI(t)}function fv(t){return wb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gd(t){return decodeURIComponent(t)}function cb(t){return gd(t.replace(/\+/g,"%20"))}function Eb(t){return`${fv(t.path)}${PL(t.parameters)}`}function PL(t){return Object.entries(t).map(([e,n])=>`;${fv(e)}=${fv(n)}`).join("")}function OL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${dd(n)}=${dd(i)}`).join("&"):`${dd(n)}=${dd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kL=/^[^\/()?;#]+/;function av(t){let e=t.match(kL);return e?e[0]:""}var FL=/^[^\/()?;=#]+/;function VL(t){let e=t.match(FL);return e?e[0]:""}var LL=/^[^=?&#]+/;function UL(t){let e=t.match(LL);return e?e[0]:""}var jL=/^[^&#]+/;function BL(t){let e=t.match(jL);return e?e[0]:""}var pv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new re(e,n)),r}parseSegment(){let e=av(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new ui(gd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=VL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=av(this.remaining);i&&(r=i,this.capture(r))}e[gd(n)]=gd(r)}parseQueryParam(e){let n=UL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=BL(this.remaining);o&&(r=o,this.capture(r))}let i=cb(n),s=cb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=av(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=U);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[U]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function Db(t){return t.segments.length>0?new re([],{[U]:t}):t}function Cb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Cb(i);if(r===U&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new re(t.segments,e);return $L(n)}function $L(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new re(t.segments.concat(e.segments),e.children)}return t}function xs(t){return t instanceof gr}function HL(t,e,n=null,r=null){let i=Tb(t);return bb(i,e,n,r)}function Tb(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Db(r);return e??i}function bb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return cv(i,i,i,n,r);let s=qL(e);if(s.toRoot())return cv(i,i,new re([],{}),n,r);let o=GL(s,i,t),a=o.processChildren?_a(o.segmentGroup,o.index,s.commands):Ab(o.segmentGroup,o.index,s.commands);return cv(i,o.segmentGroup,a,n,r)}function md(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Da(t){return typeof t=="object"&&t!=null&&t.outlets}function cv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Sb(t,e,n);let a=Db(Cb(o));return new gr(a,s,i)}function Sb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Sb(s,e,n)}),new re(t.segments,r)}var yd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&md(r[0]))throw new b(4003,!1);let i=r.find(Da);if(i&&i!==mb(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yd(n,e,r)}var As=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function GL(t,e,n){if(t.isAbsolute)return new As(e,!0,0);if(!n)return new As(e,!1,NaN);if(n.parent===null)return new As(n,!0,0);let r=md(t.commands[0])?0:1,i=n.segments.length-1+r;return zL(n,i,t.numberOfDoubleDots)}function zL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new As(r,!1,i-s)}function WL(t){return Da(t[0])?t[0].outlets:{[U]:t}}function Ab(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return _a(t,e,n);let r=KL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[U]=new re(t.segments.slice(r.pathIndex),t.children),_a(s,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?gv(t,e,n):r.match?_a(t,0,i):gv(t,e,n)}function _a(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=WL(n),i={};if(Object.keys(r).some(s=>s!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let s=_a(t.children[U],e,n);return new re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Ab(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new re(t.segments,i)}}function KL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Da(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!lb(c,u,o))return s;r+=2}else{if(!lb(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Da(s)){let c=QL(s.outlets);return new re(r,c)}if(i===0&&md(n[0])){let c=t.segments[e];r.push(new ui(c.path,ub(n[0]))),i++;continue}let o=Da(s)?s.outlets[U]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&md(a)?(r.push(new ui(o,ub(a))),i+=2):(r.push(new ui(o,{})),i++)}return new re(r,{})}function QL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=gv(new re([],{}),0,r))}),e}function ub(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lb(t,e,n){return t==n.path&&vn(e,n.parameters)}var Ia="imperative",Ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ve||{}),Mt=class{constructor(e,n){this.id=e,this.url=n}},Ns=class extends Mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ve.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends Mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Rt||{}),vd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vd||{}),mr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationSkipped}},Ca=class extends Mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_d=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mv=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yv=class extends Mt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vv=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_v=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wv=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ev=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dv=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cv=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tv=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Id=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ve.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ta=class{},ba=class{constructor(e){this.url=e}};var bv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pa,this.attachRef=null}},Pa=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new bv,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Av(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Av(e,this._root).map(n=>n.value)}};function Sv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sv(t,n);if(r)return r}return null}function Av(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Av(t,n);if(r.length)return r.unshift(e),r}return[]}var mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ss(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ed=class extends wd{constructor(e,n){super(e),this.snapshot=n,Lv(this,e)}toString(){return this.snapshot.toString()}};function Rb(t){let e=YL(t),n=new Le([new ui("",{})]),r=new Le({}),i=new Le({}),s=new Le({}),o=new Le(""),a=new xt(n,r,s,o,i,U,t,e.root);return a.snapshot=e.root,new Ed(new mt(a,[]),e)}function YL(t){let e={},n={},r={},i="",s=new Sa([],e,r,i,n,U,t,null,{});return new Dd("",new mt(s,[]))}var xt=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(B(u=>u[xa]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>Ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>Ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vv(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&xb(i)&&(r.resolve[xa]=i.title),r}var Sa=class{get title(){return this.data?.[xa]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Dd=class extends wd{constructor(e,n){super(n),this.url=e,Lv(this,n)}toString(){return Mb(this._root)}};function Lv(t,e){e.value._routerState=t,e.children.forEach(n=>Lv(t,n))}function Mb(t){let e=t.children.length>0?` { ${t.children.map(Mb).join(", ")} } `:"";return`${t.value}${e}`}function uv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vn(e.params,n.params)||t.paramsSubject.next(n.params),TL(e.url,n.url)||t.urlSubject.next(n.url),vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rv(t,e){let n=vn(t.params,e.params)&&RL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Rv(t.parent,e.parent))}function xb(t){return typeof t.title=="string"||t.title===null}var Uv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=I(Pa),this.location=I(ao),this.changeDetector=I(Lt),this.environmentInjector=I(lt),this.inputBinder=I(Sd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Mv(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rn]});let t=e;return t})(),Mv=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xt?this.route:e===Pa?this.childContexts:this.parent.get(e,n)}},Sd=new M(""),db=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=$s([i.queryParams,i.params,i.data]).pipe(vt(([o,a,c],u)=>(c=D(D(D({},o),a),c),u===0?N(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=AE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function JL(t,e,n){let r=Aa(t,e._root,n?n._root:void 0);return new Ed(r,e)}function Aa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ZL(t,e,n);return new mt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Aa(t,a)),o}}let r=XL(e.value),i=e.children.map(s=>Aa(t,s));return new mt(r,i)}}function ZL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Aa(t,r,i);return Aa(t,r)})}function XL(t){return new xt(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var Nb="ngNavigationCancelingError";function Pb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=xs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ob(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ob(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Nb]=!0,n.cancellationCode=e,n}function eU(t){return kb(t)&&xs(t.url)}function kb(t){return!!t&&t[Nb]}var tU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=tn({type:e,selectors:[["ng-component"]],standalone:!0,features:[sn],decls:1,vars:0,template:function(i,s){i&1&&Ne(0,"router-outlet")},dependencies:[Uv],encapsulation:2});let t=e;return t})();function nU(t,e){return t.providers&&!t._injector&&(t._injector=lu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jv(t){let e=t.children&&t.children.map(jv),n=e?ae(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=tU),n}function In(t){return t.outlet||U}function rU(t,e){let n=t.filter(r=>In(r)===e);return n.push(...t.filter(r=>In(r)!==e)),n}function Oa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var iU=(t,e,n,r)=>B(i=>(new xv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),uv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Tv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Dv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(uv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),uv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Oa(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Cd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Rs=class{constructor(e,n){this.component=e,this.route=n}};function sU(t,e,n){let r=t._root,i=e?e._root:null;return ya(r,i,n,[r.value])}function oU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Os(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ZI(t)?t:e.get(t):r}function ya(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ss(e);return t.children.forEach(o=>{aU(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>wa(a,n.getContext(o),i)),i}function aU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=cU(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ya(t,e,a?a.children:null,r,i):ya(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rs(a.outlet.component,o))}else o&&wa(e,a,i),i.canActivateChecks.push(new Cd(r)),s.component?ya(t,null,a?a.children:null,r,i):ya(t,null,n,r,i);return i}function cU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!li(t.url,e.url);case"pathParamsOrQueryParamsChange":return!li(t.url,e.url)||!vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rv(t,e)||!vn(t.queryParams,e.queryParams);case"paramsChange":default:return!Rv(t,e)}}function wa(t,e,n){let r=Ss(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?wa(o,e.children.getContext(s),n):wa(o,null,n):wa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Rs(e.outlet.component,i)):n.canDeactivateChecks.push(new Rs(null,i)):n.canDeactivateChecks.push(new Rs(null,i))}function ka(t){return typeof t=="function"}function uU(t){return typeof t=="boolean"}function lU(t){return t&&ka(t.canLoad)}function dU(t){return t&&ka(t.canActivate)}function hU(t){return t&&ka(t.canActivateChild)}function fU(t){return t&&ka(t.canDeactivate)}function pU(t){return t&&ka(t.canMatch)}function Fb(t){return t instanceof En||t?.name==="EmptyError"}var hd=Symbol("INITIAL_VALUE");function Ps(){return vt(t=>$s(t.map(e=>e.pipe(Dn(1),mc(hd)))).pipe(B(e=>{for(let n of e)if(n!==!0){if(n===hd)return hd;if(n===!1||n instanceof gr)return n}return!0}),Ue(e=>e!==hd),Dn(1)))}function gU(t,e){return De(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(ae(D({},n),{guardsResult:!0})):mU(o,r,i,t).pipe(De(a=>a&&uU(a)?yU(r,s,t,e):N(a)),B(a=>ae(D({},n),{guardsResult:a})))})}function mU(t,e,n,r){return pe(t).pipe(De(i=>EU(i.component,i.route,n,e,r)),Kt(i=>i!==!0,!0))}function yU(t,e,n,r){return pe(e).pipe(Cr(i=>Ti(_U(i.route.parent,r),vU(i.route,r),wU(t,i.path,n),IU(t,i.route,n))),Kt(i=>i!==!0,!0))}function vU(t,e){return t!==null&&e&&e(new Cv(t)),N(!0)}function _U(t,e){return t!==null&&e&&e(new Ev(t)),N(!0)}function IU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>hc(()=>{let o=Oa(e)??n,a=Os(s,o),c=dU(a)?a.canActivate(e,t):Zn(o,()=>a(e,t));return vr(c).pipe(Kt())}));return N(i).pipe(Ps())}function wU(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>oU(o)).filter(o=>o!==null).map(o=>hc(()=>{let a=o.guards.map(c=>{let u=Oa(o.node)??n,l=Os(c,u),d=hU(l)?l.canActivateChild(r,t):Zn(u,()=>l(r,t));return vr(d).pipe(Kt())});return N(a).pipe(Ps())}));return N(s).pipe(Ps())}function EU(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let c=Oa(e)??i,u=Os(a,c),l=fU(u)?u.canDeactivate(t,e,n,r):Zn(c,()=>u(t,e,n,r));return vr(l).pipe(Kt())});return N(o).pipe(Ps())}function DU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=Os(o,t),c=lU(a)?a.canLoad(e,n):Zn(t,()=>a(e,n));return vr(c)});return N(s).pipe(Ps(),Vb(r))}function Vb(t){return Wa(Ce(e=>{if(xs(e))throw Pb(t,e)}),B(e=>e===!0))}function CU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=Os(o,t),c=pU(a)?a.canMatch(e,n):Zn(t,()=>a(e,n));return vr(c)});return N(s).pipe(Ps(),Vb(r))}var Ra=class{constructor(e){this.segmentGroup=e||null}},Td=class extends Error{constructor(e){super(),this.urlTree=e}};function bs(t){return Di(new Ra(t))}function TU(t){return Di(new b(4e3,!1))}function bU(t){return Di(Ob(!1,Rt.GuardRejected))}var Nv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[U])return TU(e.redirectTo);i=i.children[U]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Td(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new gr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Pv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SU(t,e,n,r,i){let s=Bv(t,e,n);return s.matched?(r=nU(e,r),CU(r,e,n,i).pipe(B(o=>o===!0?s:D({},Pv)))):N(s)}function Bv(t,e,n){if(e.path==="**")return AU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Pv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CL)(n,t,e);if(!i)return D({},Pv);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?D(D({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function AU(t){return{matched:!0,parameters:t.length>0?mb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hb(t,e,n,r){return n.length>0&&xU(t,n,r)?{segmentGroup:new re(e,MU(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&NU(t,n,r)?{segmentGroup:new re(t.segments,RU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function RU(t,e,n,r){let i={};for(let s of n)if(Ad(t,e,s)&&!r[In(s)]){let o=new re([],{});i[In(s)]=o}return D(D({},r),i)}function MU(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&In(r)!==U){let i=new re([],{});n[In(r)]=i}return n}function xU(t,e,n){return n.some(r=>Ad(t,e,r)&&In(r)!==U)}function NU(t,e,n){return n.some(r=>Ad(t,e,r))}function Ad(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function PU(t,e,n,r){return In(t)!==r&&(r===U||!Ad(e,n,t))?!1:Bv(e,t,n).matched}function OU(t,e,n){return e.length===0&&!t.children[n]}var Ov=class{};function kU(t,e,n,r,i,s,o="emptyOnly"){return new kv(t,e,n,r,i,o,s).recognize()}var FU=31,kv=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Nv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=hb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(n=>{let r=new Sa([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},U,this.rootComponentType,null,{}),i=new mt(r,n),s=new Dd("",i),o=HL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,U).pipe(Hn(r=>{if(r instanceof Td)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ra?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Vv(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(B(s=>s instanceof mt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return pe(i).pipe(Cr(s=>{let o=r.children[s],a=rU(n,s);return this.processSegmentGroup(e,a,o,s)}),gc((s,o)=>(s.push(...o),s)),qn(null),fh(),De(s=>{if(s===null)return bs(r);let o=Lb(s);return VU(o),N(o)}))}processSegment(e,n,r,i,s,o){return pe(n).pipe(Cr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Hn(c=>{if(c instanceof Ra)return N(null);throw c}))),Kt(a=>!!a),Hn(a=>{if(Fb(a))return OU(r,i,s)?N(new Ov):bs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return PU(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):bs(i):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Bv(n,i,s);if(!a)return bs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FU&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(De(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=SU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(vt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Sa(l,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,UU(r),In(r),r.component??r._loadedComponent??null,r,jU(r)),{segmentGroup:m,slicedSegments:v}=hb(n,l,d,c);if(v.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(B(T=>T===null?null:new mt(f,T)));if(c.length===0&&v.length===0)return N(new mt(f,[]));let _=In(r)===s;return this.processSegment(u,c,m,v,_?U:s,!0).pipe(B(T=>new mt(f,T instanceof mt?[T]:[])))}))):bs(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):DU(e,n,r,this.urlSerializer).pipe(De(i=>i?this.configLoader.loadChildren(e,n).pipe(Ce(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):bU(n))):N({routes:[],injector:e})}};function VU(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function LU(t){let e=t.value.routeConfig;return e&&e.path===""}function Lb(t){let e=[],n=new Set;for(let r of t){if(!LU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Lb(r.children);e.push(new mt(r.value,i))}return e.filter(r=>!n.has(r))}function UU(t){return t.data||{}}function jU(t){return t.resolve||{}}function BU(t,e,n,r,i,s){return De(o=>kU(t,e,n,r,o.extractedUrl,i,s).pipe(B(({state:a,tree:c})=>ae(D({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function $U(t,e){return De(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Ub(c))o.add(u);let a=0;return pe(o).pipe(Cr(c=>s.has(c)?HU(c,r,t,e):(c.data=Vv(c,c.parent,t).resolve,N(void 0))),Ce(()=>a++),bi(1),De(c=>a===o.size?N(n):yt))})}function Ub(t){let e=t.children.map(n=>Ub(n)).flat();return[t,...e]}function HU(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!xb(i)&&(s[xa]=i.title),qU(s,t,e,r).pipe(B(o=>(t._resolvedData=o,t.data=Vv(t,t.parent,n).resolve,null)))}function qU(t,e,n,r){let i=hv(t);if(i.length===0)return N({});let s={};return pe(i).pipe(De(o=>GU(t[o],e,n,r).pipe(Kt(),Ce(a=>{s[o]=a}))),bi(1),hh(s),Hn(o=>Fb(o)?yt:Di(o)))}function GU(t,e,n,r){let i=Oa(e)??r,s=Os(t,i),o=s.resolve?s.resolve(e,n):Zn(i,()=>s(e,n));return vr(o)}function lv(t){return vt(e=>{let n=t(e);return n?pe(n).pipe(B(()=>e)):N(e)})}var jb=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[xa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(zU),providedIn:"root"});let t=e;return t})(),zU=(()=>{let e=class e extends jb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(O(WE))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fa=new M("",{providedIn:"root",factory:()=>({})}),Ma=new M(""),$v=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(yu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vr(r.loadComponent()).pipe(B(Bb),Ce(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qs(()=>{this.componentLoaders.delete(r)})),s=new _i(i,()=>new nt).pipe(vi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=WU(i,this.compiler,r,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(i)})),a=new _i(o,()=>new nt).pipe(vi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WU(t,e,n,r){return vr(t.loadChildren()).pipe(B(Bb),De(i=>i instanceof eo||Array.isArray(i)?N(i):pe(e.compileModuleAsync(i))),B(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ma,[],{optional:!0,self:!0}).flat()),{routes:o.map(jv),injector:s}}))}function KU(t){return t&&typeof t=="object"&&"default"in t}function Bb(t){return KU(t)?t.default:t}var Hv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(QU),providedIn:"root"});let t=e;return t})(),QU=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$b=new M(""),Hb=new M("");function YU(t,e,n){let r=t.get(Hb),i=t.get(at);return t.get(ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),JU(t))),{onViewTransitionCreated:c}=r;return c&&Zn(t,()=>c({transition:a,from:e,to:n})),o})}function JU(t){return new Promise(e=>{ep(e,{injector:t})})}var qv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=I($v),this.environmentInjector=I(lt),this.urlSerializer=I(Na),this.rootContexts=I(Pa),this.location=I(zi),this.inputBindingEnabled=I(Sd,{optional:!0})!==null,this.titleStrategy=I(jb),this.options=I(Fa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Hv),this.createViewTransition=I($b,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Iv(s)),i=s=>this.events.next(new wv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ae(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Le({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ia,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ue(o=>o.id!==0),B(o=>ae(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vt(o=>{this.currentTransition=o;let a=!1,c=!1;return N(o).pipe(Ce(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new yr(u.id,this.urlSerializer.serialize(u.rawUrl),h,vd.IgnoredSameUrlNavigation)),u.resolve(null),yt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return N(u).pipe(vt(h=>{let f=this.transitions?.getValue();return this.events.next(new Ns(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?yt:Promise.resolve(h)}),BU(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ce(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ae(D({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new _d(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:v,extras:_}=u,T=new Ns(h,this.urlSerializer.serialize(f),m,v);this.events.next(T);let Z=Rb(this.rootComponentType).snapshot;return this.currentTransition=o=ae(D({},u),{targetSnapshot:Z,urlAfterRedirects:f,extras:ae(D({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,N(o)}else{let h="";return this.events.next(new yr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,vd.IgnoredByUrlHandlingStrategy)),u.resolve(null),yt}}),Ce(u=>{let l=new mv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),B(u=>(this.currentTransition=o=ae(D({},u),{guards:sU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),gU(this.environmentInjector,u=>this.events.next(u)),Ce(u=>{if(o.guardsResult=u.guardsResult,xs(u.guardsResult))throw Pb(this.urlSerializer,u.guardsResult);let l=new yv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ue(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Rt.GuardRejected),!1)),lv(u=>{if(u.guards.canActivateChecks.length)return N(u).pipe(Ce(l=>{let d=new vv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),vt(l=>{let d=!1;return N(l).pipe($U(this.paramsInheritanceStrategy,this.environmentInjector),Ce({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Rt.NoDataFromResolver)}}))}),Ce(l=>{let d=new _v(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),lv(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ce(f=>{d.component=f}),B(()=>{})));for(let f of d.children)h.push(...l(f));return h};return $s(l(u.targetSnapshot.root)).pipe(qn(null),Dn(1))}),lv(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?pe(d).pipe(B(()=>o)):N(o)}),B(u=>{let l=JL(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ae(D({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ce(()=>{this.events.next(new Ta)}),iU(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dn(1),Ce({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ph(this.transitionAbortSubject.pipe(Ce(u=>{throw u}))),qs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(u=>{if(c=!0,kb(u))this.events.next(new mr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),eU(u)?this.events.next(new ba(u.url)):o.resolve(!1);else{this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return yt}))}))}cancelNavigationTransition(r,i,s){let o=new mr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZU(t){return t!==Ia}var XU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(e2),providedIn:"root"});let t=e;return t})(),Fv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},e2=(()=>{let e=class e extends Fv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=so(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:()=>I(t2),providedIn:"root"});let t=e;return t})(),t2=(()=>{let e=class e extends qb{constructor(){super(...arguments),this.location=I(zi),this.urlSerializer=I(Na),this.options=I(Fa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Hv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ns)this.stateMemento=this.createStateMemento();else if(r instanceof yr)this.rawUrlTree=i.initialUrl;else if(r instanceof _d){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ta?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof mr&&(r.code===Rt.GuardRejected||r.code===Rt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ca?this.restoreHistory(i,!0):r instanceof _n&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=so(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),va=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(va||{});function Gb(t,e){t.events.pipe(Ue(n=>n instanceof _n||n instanceof mr||n instanceof Ca||n instanceof yr),B(n=>n instanceof _n||n instanceof yr?va.COMPLETE:(n instanceof mr?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?va.REDIRECTING:va.FAILED),Ue(n=>n!==va.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function n2(t){throw t}var r2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(pu),this.stateManager=I(qb),this.options=I(Fa,{optional:!0})||{},this.pendingTasks=I(du),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(qv),this.urlSerializer=I(Na),this.location=I(zi),this.urlHandlingStrategy=I(Hv),this._events=new nt,this.errorHandler=this.options.errorHandler||n2,this.navigated=!1,this.routeReuseStrategy=I(XU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Ma,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Sd,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=I(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof mr&&i.code!==Rt.Redirect&&i.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _n)this.navigated=!0;else if(i instanceof ba){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ZU(s.source)};this.scheduleNavigation(a,Ia,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}o2(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=D({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=Tb(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return bb(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=xs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ia,null,i)}navigate(r,i={skipLocationChange:!1}){return s2(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=D({},r2):i===!1?s=D({},i2):s=i,xs(r))return ab(this.currentUrlTree,r,s);let o=this.parseUrl(r);return ab(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return Gb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function o2(t){return!(t instanceof Ta)&&!(t instanceof ba)}var zb=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new nt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof _n&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:xw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(S(zt),S(xt),Bf("tabindex"),S(Xn),S(Rn),S(Pn))},e.\u0275dir=je({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Be("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&hu("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[me.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Lr],skipLocationChange:[me.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Lr],replaceUrl:[me.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Lr],routerLink:"routerLink"},standalone:!0,features:[np,rn]});let t=e;return t})();var bd=class{};var a2=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ue(r=>r instanceof _n),Cr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=lu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return pe(s).pipe(Ci())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=N(null);let o=s.pipe(De(a=>a===null?N(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return pe([o,a]).pipe(Ci())}else return o})}};e.\u0275fac=function(i){return new(i||e)(O(zt),O(yu),O(lt),O(bd),O($v))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wb=new M(""),c2=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof _n?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof yr&&r.code===vd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Id&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Id(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){qw()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();function Kb(t,...e){return nu([{provide:Ma,multi:!0,useValue:t},[],{provide:xt,useFactory:Qb,deps:[zt]},{provide:mu,multi:!0,useFactory:Yb},e.map(n=>n.\u0275providers)])}function Qb(t){return t.routerState.root}function Va(t,e){return{\u0275kind:t,\u0275providers:e}}function Yb(){let t=I(ot);return e=>{let n=t.get(lo);if(e!==n.components[0])return;let r=t.get(zt),i=t.get(Jb);t.get(Gv)===1&&r.initialNavigation(),t.get(Zb,null,H.Optional)?.setUpPreloading(),t.get(Wb,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Jb=new M("",{factory:()=>new nt}),Gv=new M("",{providedIn:"root",factory:()=>1});function u2(){return Va(2,[{provide:Gv,useValue:0},{provide:gu,multi:!0,deps:[ot],useFactory:e=>{let n=e.get(OE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(zt),s=e.get(Jb);Gb(i,()=>{r(!0)}),e.get(qv).afterPreactivation=()=>(r(!0),s.closed?N(void 0):s),i.initialNavigation()}))}}])}function l2(){return Va(3,[{provide:gu,multi:!0,useFactory:()=>{let e=I(zt);return()=>{e.setUpLocationChangeListener()}}},{provide:Gv,useValue:2}])}var Zb=new M("");function d2(t){return Va(0,[{provide:Zb,useExisting:a2},{provide:bd,useExisting:t}])}function h2(){return Va(8,[db,{provide:Sd,useExisting:db}])}function f2(t){let e=[{provide:$b,useValue:YU},{provide:Hb,useValue:D({skipNextTransition:!!t?.skipInitialTransition},t)}];return Va(9,e)}var fb=new M("ROUTER_FORROOT_GUARD"),p2=[zi,{provide:Na,useClass:Ea},zt,Pa,{provide:xt,useFactory:Qb,deps:[zt]},$v,[]],Xb=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[p2,[],{provide:Ma,multi:!0,useValue:r},{provide:fb,useFactory:v2,deps:[[zt,new Tt,new kf]]},{provide:Fa,useValue:i||{}},i?.useHash?m2():y2(),g2(),i?.preloadingStrategy?d2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?_2(i):[],i?.bindToComponentInputs?h2().\u0275providers:[],i?.enableViewTransitions?f2().\u0275providers:[],I2()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ma,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(O(fb,8))},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({});let t=e;return t})();function g2(){return{provide:Wb,useFactory:()=>{let t=I(LE),e=I(ie),n=I(Fa),r=I(qv),i=I(Na);return n.scrollOffset&&t.setOffset(n.scrollOffset),new c2(i,r,t,e,n)}}}function m2(){return{provide:Pn,useClass:FE}}function y2(){return{provide:Pn,useClass:hp}}function v2(t){return"guarded"}function _2(t){return[t.initialNavigation==="disabled"?l2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?u2().\u0275providers:[]]}var pb=new M("");function I2(){return[{provide:pb,useFactory:Yb},{provide:mu,multi:!0,useExisting:pb}]}var oS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(S(Xn),S(Rn))},e.\u0275dir=je({type:e});let t=e;return t})(),aS=(()=>{let e=class e extends oS{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=so(e)))(s||e)}})(),e.\u0275dir=je({type:e,features:[Vt]});let t=e;return t})(),ja=new M("");var w2={provide:ja,useExisting:Mn(()=>Fs),multi:!0};function E2(){let t=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var D2=new M(""),Fs=(()=>{let e=class e extends oS{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!E2())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(S(Xn),S(Rn),S(D2,8))},e.\u0275dir=je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Be("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Fr([w2]),Vt]});let t=e;return t})();var jd=new M(""),Bd=new M("");function cS(t){return t!=null}function uS(t){return Vr(t)?pe(t):t}function lS(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function dS(t,e){return e.map(n=>n(t))}function C2(t){return!t.validate}function hS(t){return t.map(e=>C2(e)?e:n=>e.validate(n))}function T2(t){if(!t)return null;let e=t.filter(cS);return e.length==0?null:function(n){return lS(dS(n,e))}}function fS(t){return t!=null?T2(hS(t)):null}function b2(t){if(!t)return null;let e=t.filter(cS);return e.length==0?null:function(n){let r=dS(n,e).map(uS);return dh(r).pipe(B(lS))}}function pS(t){return t!=null?b2(hS(t)):null}function eS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gS(t){return t._rawValidators}function mS(t){return t._rawAsyncValidators}function zv(t){return t?Array.isArray(t)?t:[t]:[]}function xd(t,e){return Array.isArray(t)?t.includes(e):t===e}function tS(t,e){let n=zv(e);return zv(t).forEach(i=>{xd(n,i)||n.push(i)}),n}function nS(t,e){return zv(e).filter(n=>!xd(t,n))}var Nd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},di=class extends Nd{get formDirective(){return null}get path(){return null}},wn=class extends Nd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},S2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Z6=ae(D({},S2),{"[class.ng-submitted]":"isSubmitted"}),$d=(()=>{let e=class e extends Pd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(wn,2))},e.\u0275dir=je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&kr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Vt]});let t=e;return t})(),yS=(()=>{let e=class e extends Pd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(di,10))},e.\u0275dir=je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&kr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Vt]});let t=e;return t})();var La="VALID",Md="INVALID",ks="PENDING",Ua="DISABLED";function vS(t){return(Hd(t)?t.validators:t)||null}function A2(t){return Array.isArray(t)?fS(t):t||null}function _S(t,e){return(Hd(e)?e.asyncValidators:t)||null}function R2(t){return Array.isArray(t)?pS(t):t||null}function Hd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function M2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function x2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var Od=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===La}get invalid(){return this.status===Md}get pending(){return this.status==ks}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nS(e,this._rawAsyncValidators))}hasValidator(e){return xd(this._rawValidators,e)}hasAsyncValidator(e){return xd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ks,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(r=>{r.disable(ae(D({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=La,this._forEachChild(r=>{r.enable(ae(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===La||this.status===ks)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:La}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator=!0;let n=uS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?Md:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(Md)?Md:La}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=A2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=R2(this._rawAsyncValidators)}},kd=class extends Od{constructor(e,n,r){super(vS(n),_S(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){x2(this,!0,e),Object.keys(e).forEach(r=>{M2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vs=new M("CallSetDisabledState",{providedIn:"root",factory:()=>Ba}),Ba="always";function IS(t,e){return[...e.path,t]}function Fd(t,e,n=Ba){Wv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),P2(t,e),k2(t,e),O2(t,e),N2(t,e)}function Vd(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ud(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ld(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function N2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Wv(t,e){let n=gS(t);e.validator!==null?t.setValidators(eS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=mS(t);e.asyncValidator!==null?t.setAsyncValidators(eS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ld(e._rawValidators,i),Ld(e._rawAsyncValidators,i)}function Ud(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=gS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=mS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Ld(e._rawValidators,r),Ld(e._rawAsyncValidators,r),n}function P2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&wS(t,e)})}function O2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&wS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function wS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function k2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function F2(t,e){t==null,Wv(t,e)}function V2(t,e){return Ud(t,e)}function Kv(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function L2(t){return Object.getPrototypeOf(t.constructor)===aS}function U2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Qv(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Fs?n=s:L2(s)?r=s:i=s}),i||r||n||null}function j2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ls=class extends Od{constructor(e=null,n,r){super(vS(n),_S(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(iS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){iS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var B2=t=>t instanceof Ls;var $2={provide:wn,useExisting:Mn(()=>Yv)},sS=Promise.resolve(),Yv=(()=>{let e=class e extends wn{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Ls,this._registered=!1,this.name="",this.update=new xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Qv(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Kv(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){sS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Lr(i);sS.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?IS(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(S(di,9),S(jd,10),S(Bd,10),S(ja,10),S(Lt,8),S(Vs,8))},e.\u0275dir=je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[me.None,"disabled","isDisabled"],model:[me.None,"ngModel","model"],options:[me.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Fr([$2]),Vt,rn]});let t=e;return t})(),ES=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var H2={provide:ja,useExisting:Mn(()=>Jv),multi:!0};var q2=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jv=(()=>{let e=class e extends aS{constructor(r,i,s,o){super(r,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=I(Vs,{optional:!0})??Ba}ngOnInit(){this._control=this._injector.get(wn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(S(Xn),S(Rn),S(q2),S(ot))},e.\u0275dir=je({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&Be("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Fr([H2]),Vt]});let t=e;return t})();var Zv=new M(""),G2={provide:wn,useExisting:Mn(()=>Xv)},Xv=(()=>{let e=class e extends wn{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new xe,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Qv(this,s)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&Vd(i,this,!1),Fd(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Kv(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vd(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(S(jd,10),S(Bd,10),S(ja,10),S(Zv,8),S(Vs,8))},e.\u0275dir=je({type:e,selectors:[["","formControl",""]],inputs:{form:[me.None,"formControl","form"],isDisabled:[me.None,"disabled","isDisabled"],model:[me.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Fr([G2]),Vt,rn]});let t=e;return t})(),z2={provide:di,useExisting:Mn(()=>e_)},e_=(()=>{let e=class e extends di{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ud(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Fd(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Vd(r.control||null,r,!1),j2(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,U2(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Vd(i||null,r),B2(s)&&(Fd(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);F2(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&V2(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wv(this.form,this),this._oldForm&&Ud(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(S(jd,10),S(Bd,10),S(Vs,8))},e.\u0275dir=je({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Be("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[me.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fr([z2]),Vt,rn]});let t=e;return t})();var W2={provide:wn,useExisting:Mn(()=>t_)},t_=(()=>{let e=class e extends wn{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Qv(this,o)}ngOnChanges(r){this._added||this._setUpControl(),Kv(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return IS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(S(di,13),S(jd,10),S(Bd,10),S(ja,10),S(Zv,8))},e.\u0275dir=je({type:e,selectors:[["","formControlName",""]],inputs:{name:[me.None,"formControlName","name"],isDisabled:[me.None,"disabled","isDisabled"],model:[me.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fr([W2]),Vt,rn]});let t=e;return t})();var DS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({});let t=e;return t})();var qd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Vs,useValue:r.callSetDisabledState??Ba}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({imports:[DS]});let t=e;return t})(),CS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zv,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Vs,useValue:r.callSetDisabledState??Ba}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({imports:[DS]});let t=e;return t})();var Gd,K2=new Uint8Array(16);function n_(){if(!Gd&&(Gd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gd(K2)}var Ge=[];for(let t=0;t<256;++t)Ge.push((t+256).toString(16).slice(1));function bS(t,e=0){return Ge[t[e+0]]+Ge[t[e+1]]+Ge[t[e+2]]+Ge[t[e+3]]+"-"+Ge[t[e+4]]+Ge[t[e+5]]+"-"+Ge[t[e+6]]+Ge[t[e+7]]+"-"+Ge[t[e+8]]+Ge[t[e+9]]+"-"+Ge[t[e+10]]+Ge[t[e+11]]+Ge[t[e+12]]+Ge[t[e+13]]+Ge[t[e+14]]+Ge[t[e+15]]}var Q2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),r_={randomUUID:Q2};function Y2(t,e,n){if(r_.randomUUID&&!e&&!t)return r_.randomUUID();t=t||{};let r=t.random||(t.rng||n_)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return bS(r)}var zd=Y2;function J2(t,e){if(t&1){let n=vE();q(0,"div",6)(1,"div",7),le(2),J(),q(3,"div",8)(4,"button",3),Be("click",function(){let s=Qc(n).$implicit,o=fu();return Yc(o._watchGame(s.id))}),le(5,"\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u0438\u0433\u0440\u0443"),J(),q(6,"button",3),Be("click",function(){let s=Qc(n).$implicit,o=fu();return Yc(o._controlGame(s.id))}),le(7,"\u0423\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u0438\u0433\u0440\u043E\u0439"),J(),q(8,"button",3),Be("click",function(){let s=Qc(n).$implicit,o=fu();return Yc(o._deleteGame(s.id))}),le(9,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0433\u0440\u0443"),J()()()}if(t&2){let n=e.$implicit;we(2),er(n.name)}}var SS=(()=>{let e=class e{constructor(r,i){this.router=r,this.cdr=i,this._games=[],this._gameName="",this.firestore=I(Gt)}ngOnInit(){this.itemCollection=pr(this.firestore,"games"),tb(this.itemCollection,{idField:"id"}).subscribe(r=>{this._games=r,this.cdr.detectChanges()})}_createGame(){this._games.push({name:this._gameName,id:zd()});let r=ud(pr(this.firestore,"games"),{name:this._gameName,id:zd()});console.log("Document written with ID: ",r)}_watchGame(r){this.router.navigate([`/watch-game/${r}`])}_controlGame(r){this.router.navigate([`/control-game/${r}`])}_deleteGame(r){this._games=this._games.filter(s=>s.id!==r),this.cdr.detectChanges();let i=Ts(this.firestore,"games",r);ld(i).then(()=>{console.log("Entire Document has been deleted successfully.")}).catch(s=>{console.log(s)})}ngOnDestroy(){}};e.\u0275fac=function(i){return new(i||e)(S(zt),S(Lt))},e.\u0275cmp=tn({type:e,selectors:[["app-games-list"]],standalone:!0,features:[sn],decls:8,vars:2,consts:[[1,"games-list-container"],["for","inputGameName"],["id","inputGameName","type","text",3,"ngModel","ngModelChange"],[3,"click"],[1,"games-list"],["class","game",4,"ngFor","ngForOf"],[1,"game"],[1,"game-name"],[1,"game-actions"]],template:function(i,s){i&1&&(q(0,"div",0)(1,"label",1),le(2,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0438\u0433\u0440\u044B:"),J(),q(3,"input",2),ip("ngModelChange",function(a){return IE(s._gameName,a)||(s._gameName=a),a}),J(),q(4,"button",3),Be("click",function(){return s._createGame()}),le(5,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0438\u0433\u0440\u0443"),J(),q(6,"div",4),Gi(7,J2,10,1,"div",5),J()()),i&2&&(we(3),rp("ngModel",s._gameName),we(4),ht("ngForOf",s._games))},dependencies:[Iu,qd,Fs,$d,Yv],styles:[".games-list-container[_ngcontent-%COMP%]{gap:20px;padding:20px}.game[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.game-actions[_ngcontent-%COMP%]{display:flex;gap:8px}"]});let t=e;return t})();function Z2(t,e){if(t&1&&(q(0,"div",8),le(1),J()),t&2){let n=e.$implicit;we(),uo(" ",n," ")}}function X2(t,e){if(t&1&&(q(0,"div",8),le(1),J()),t&2){let n=e.$implicit;we(),uo(" ",n," ")}}var Wd=(()=>{let e=class e{constructor(r,i){this.route=r,this.cdr=i,this.firstTeamName="",this.secondTeamName="",this.firstTeamSetScore=0,this.secondTeamSetScore=0,this.firstTeamScore=[],this.secondTeamScore=[],this.set=1,this.firstTeamServing=!0,this.pure=!0,this.firestore=I(Gt),this.documentId=""}ngOnInit(){this.route.params.subscribe(r=>{if(this.pure){let i=ib(pr(this.firestore,"live-score"),ob("gameId","==",r.id));rb(i,s=>{s.forEach(o=>{this.documentId=o.id;let a=o.data();this.firstTeamName=a.firstTeamName,this.secondTeamName=a.secondTeamName,this.firstTeamSetScore=a.firstTeamSetScore,this.secondTeamSetScore=a.secondTeamSetScore,this.firstTeamScore=a.firstTeamScore,this.secondTeamScore=a.secondTeamScore,this.firstTeamServing=a.firstTeamServing,this.set=a.set,this.cdr.detectChanges()})})}})}ngOnDestroy(){if(this.pure){let r=Ts(this.firestore,"live-score",this.documentId);ld(r).then(()=>{console.log("Entire Document has been deleted successfully.")}).catch(i=>{console.log(i)})}}};e.\u0275fac=function(i){return new(i||e)(S(xt),S(Lt))},e.\u0275cmp=tn({type:e,selectors:[["app-score-table"]],inputs:{firstTeamName:"firstTeamName",secondTeamName:"secondTeamName",firstTeamSetScore:"firstTeamSetScore",secondTeamSetScore:"secondTeamSetScore",firstTeamScore:"firstTeamScore",secondTeamScore:"secondTeamScore",set:"set",firstTeamServing:"firstTeamServing",pure:"pure"},standalone:!0,features:[sn],decls:18,vars:10,consts:[[1,"game"],[1,"game-container"],[1,"game-container__team"],[1,"game-container__team-name"],[1,"game-container__team-serving"],[1,"game-container__team-set"],["class","game-container__team-score",4,"ngFor","ngForOf"],["id","secondTeamName"],[1,"game-container__team-score"]],template:function(i,s){i&1&&(q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ne(4,"div",4),q(5,"div"),le(6),J()(),q(7,"div",5),le(8),J(),Gi(9,Z2,2,1,"div",6),J(),q(10,"div",2)(11,"div",3),Ne(12,"div",4),q(13,"div",7),le(14),J()(),q(15,"div",5),le(16),J(),Gi(17,X2,2,1,"div",6),J()()()),i&2&&(we(4),kr("arrow-up",s.firstTeamServing),we(2),er(s.firstTeamName),we(2),er(s.firstTeamSetScore),we(),ht("ngForOf",s.firstTeamScore),we(3),kr("arrow-up",!s.firstTeamServing),we(2),er(s.secondTeamName),we(2),er(s.secondTeamSetScore),we(),ht("ngForOf",s.secondTeamScore))},dependencies:[Iu],styles:['body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}.game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:80px;transform:skew(-10deg);margin-top:20px}.game-container__team[_ngcontent-%COMP%]{display:flex;height:100%}.game-container__team-serving[_ngcontent-%COMP%]{width:20px}.game-container__team-name[_ngcontent-%COMP%]{width:250px;background-color:#00f;color:#fff;border-bottom:1px solid white;display:flex;align-items:center;justify-content:flex-start;padding-left:20px;box-shadow:0 0 2px 1px #000000bf}.arrow-up[_ngcontent-%COMP%]:before{padding-right:5px;content:"\\27a4"}.game-container__team-score[_ngcontent-%COMP%], .game-container__team-set[_ngcontent-%COMP%]{background-color:#fff;font-weight:700;width:40px;display:flex;align-items:center;justify-content:center;border:1px solid;box-shadow:0 0 2px 1px #000000bf}.game-container__team-score[_ngcontent-%COMP%]{background-color:#d9d9d9;box-shadow:0 0 2px 1px #000000bf}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.game-controls[_ngcontent-%COMP%]{padding:20px}.game-controls__team-scores[_ngcontent-%COMP%]{display:flex;gap:4px}.game-controls__team-score[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid}input[type=number][_ngcontent-%COMP%]{width:50px}']});let t=e;return t})();var AS=(()=>{let e=class e{constructor(r){this.route=r,this.firstTeamName="",this.secondTeamName="",this.firstTeamSetScore=0,this.secondTeamSetScore=0,this.firstTeamScore=[0],this.secondTeamScore=[0],this.set=0,this._firstTeamServing=!0,this.firstTeamNameControl=new Ls("",{nonNullable:!0}),this.secondTeamNameControl=new Ls("",{nonNullable:!0}),this._servingForm=new kd({serving:new Ls(!1,{nonNullable:!0})}),this.firestore=I(Gt),this.gameId="",this.documentId=""}ngOnInit(){this.route.params.subscribe(r=>{this.gameId=r.id,pr(this.firestore,"live-score"),ud(pr(this.firestore,"live-score"),{gameId:r.id}).then(i=>{this.documentId=i.id})}),this.firstTeamNameControl.valueChanges.pipe(Ue(r=>!!r),fc(500),Hs()).subscribe(r=>{this.firstTeamName=r,this.updateGameInfo()}),this.secondTeamNameControl.valueChanges.pipe(Ue(r=>!!r),fc(500),Hs()).subscribe(r=>{this.secondTeamName=r,this.updateGameInfo()}),this._servingForm.valueChanges.subscribe(r=>{this._firstTeamServing=!!r.serving,this.updateGameInfo()})}_firstTeamScorePlus(){this.firstTeamScore[this.set]++,this.set===5?this.firstTeamScore[this.set]>=15&&this.firstTeamScore[this.set]-2>=this.secondTeamScore[this.set]&&this.firstTeamSetScore++:this.firstTeamScore[this.set]>=25&&this.firstTeamScore[this.set]-2>=this.secondTeamScore[this.set]&&(this.firstTeamSetScore++,this.set++,this.firstTeamScore[this.set]=0,this.secondTeamScore[this.set]=0),this.updateGameInfo()}_firstTeamScoreMinus(){this.firstTeamScore[this.set]--,this.updateGameInfo()}_secondTeamScorePlus(){this.secondTeamScore[this.set]++,this.set===5?this.secondTeamScore[this.set]>=15&&this.secondTeamScore[this.set]-2>=this.firstTeamScore[this.set]&&this.secondTeamSetScore++:this.secondTeamScore[this.set]>=25&&this.secondTeamScore[this.set]-2>=this.firstTeamScore[this.set]&&(this.secondTeamSetScore++,this.set++,this.firstTeamScore[this.set]=0,this.secondTeamScore[this.set]=0),this.updateGameInfo()}_secondTeamScoreMinus(){this.secondTeamScore[this.set]--,this.updateGameInfo()}updateGameInfo(){let r=Ts(this.firestore,"live-score",this.documentId),i={gameId:this.gameId,firstTeamScore:this.firstTeamScore,secondTeamScore:this.secondTeamScore,set:this.set,firstTeamSetScore:this.firstTeamSetScore,secondTeamSetScore:this.secondTeamSetScore,secondTeamName:this.secondTeamName,firstTeamName:this.firstTeamName,firstTeamServing:this._firstTeamServing};sb(r,i).then(s=>{console.log("Entire Document has been updated successfully")}).catch(s=>{console.log(s)})}};e.\u0275fac=function(i){return new(i||e)(S(xt))},e.\u0275cmp=tn({type:e,selectors:[["app-score-table-with-controls"]],standalone:!0,features:[sn],decls:38,vars:14,consts:[[3,"firstTeamName","firstTeamScore","firstTeamServing","firstTeamSetScore","secondTeamName","secondTeamScore","secondTeamSetScore","set","pure"],[1,"game-controls","mt-3"],[1,""],[1,"form-group"],["for","inputFirstTeamName"],["id","inputFirstTeamName","type","text",3,"formControl"],[1,"game-controls__team-scores"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],["for","inputSecondTeamName"],["id","inputSecondTeamName","type","text",3,"formControl"],[3,"formGroup"],[1,"form-check"],["formControlName","serving","id","team1Radio","name","serving","type","radio",1,"form-check-input",3,"value"],["for","team1Radio",1,"form-check-label"],["formControlName","serving","id","team2Radio","name","serving","type","radio",1,"form-check-input",3,"value"],["for","team2Radio",1,"form-check-label"]],template:function(i,s){i&1&&(Ne(0,"app-score-table",0),q(1,"div",1)(2,"div",2),le(3," 1-\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u0430: "),J(),q(4,"div",3)(5,"label",4),le(6,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043C\u0430\u043D\u0434\u044B:"),J(),Ne(7,"input",5),q(8,"div",6)(9,"label"),le(10,"\u0421\u0447\u0435\u0442 \u0432 \u043F\u0430\u0440\u0442\u0438\u044F\u0445:"),J(),q(11,"button",7),Be("click",function(){return s._firstTeamScoreMinus()}),Ne(12,"i",8),J(),q(13,"button",9),Be("click",function(){return s._firstTeamScorePlus()}),Ne(14,"i",10),J()()(),q(15,"div",2),le(16," 2-\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u0430: "),J(),q(17,"div",3)(18,"label",11),le(19,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043C\u0430\u043D\u0434\u044B:"),J(),Ne(20,"input",12),q(21,"div",6)(22,"label"),le(23,"\u0421\u0447\u0435\u0442 \u0432 \u043F\u0430\u0440\u0442\u0438\u044F\u0445:"),J(),q(24,"button",7),Be("click",function(){return s._secondTeamScoreMinus()}),Ne(25,"i",8),J(),q(26,"button",9),Be("click",function(){return s._secondTeamScorePlus()}),Ne(27,"i",10),J()()()(),le(28,`
\u041A\u0442\u043E \u043F\u043E\u0434\u0430\u0435\u0442:
`),q(29,"form",13)(30,"div",14),Ne(31,"input",15),q(32,"label",16),le(33,"1-\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u0430"),J()(),q(34,"div",14),Ne(35,"input",17),q(36,"label",18),le(37,"2-\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u0430"),J()()()),i&2&&(ht("firstTeamName",s.firstTeamName)("firstTeamScore",s.firstTeamScore)("firstTeamServing",s._firstTeamServing)("firstTeamSetScore",s.firstTeamSetScore)("secondTeamName",s.secondTeamName)("secondTeamScore",s.secondTeamScore)("secondTeamSetScore",s.secondTeamSetScore)("set",s.set)("pure",!1),we(7),ht("formControl",s.firstTeamNameControl),we(13),ht("formControl",s.secondTeamNameControl),we(9),ht("formGroup",s._servingForm),we(2),ht("value",!0),we(4),ht("value",!1))},dependencies:[Wd,qd,ES,Fs,Jv,$d,yS,CS,Xv,e_,t_],styles:['body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}.game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:80px;transform:skew(-10deg);margin-top:20px}.game-container__team[_ngcontent-%COMP%]{display:flex;height:100%}.game-container__team-serving[_ngcontent-%COMP%]{width:20px}.game-container__team-name[_ngcontent-%COMP%]{width:250px;background-color:#00f;color:#fff;border-bottom:1px solid white;display:flex;align-items:center;justify-content:flex-start;padding-left:20px;box-shadow:0 0 2px 1px #000000bf}.arrow-up[_ngcontent-%COMP%]:before{padding-right:5px;content:"\\27a4"}.game-container__team-score[_ngcontent-%COMP%], .game-container__team-set[_ngcontent-%COMP%]{background-color:#fff;font-weight:700;width:40px;display:flex;align-items:center;justify-content:center;border:1px solid;box-shadow:0 0 2px 1px #000000bf}.game-container__team-score[_ngcontent-%COMP%]{background-color:#d9d9d9;box-shadow:0 0 2px 1px #000000bf}.form-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.game-controls[_ngcontent-%COMP%]{padding:20px}.game-controls__team-scores[_ngcontent-%COMP%]{display:flex;gap:4px}.game-controls__team-score[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid}input[type=number][_ngcontent-%COMP%]{width:50px}']});let t=e;return t})();var RS=[{path:"",component:SS},{path:"watch-game/:id",component:Wd},{path:"control-game/:id",component:AS},{path:"**",redirectTo:"",pathMatch:"full"}];var ej={apiKey:"AIzaSyBEB-8XDdwBJXr5i8BGq3TYfb1p8LkGTHk",authDomain:"score-table-2ef3b.firebaseapp.com",projectId:"score-table-2ef3b",storageBucket:"score-table-2ef3b.appspot.com",messagingSenderId:"978527265236",appId:"1:978527265236:web:cb10bc887fba7ceb2f3641"},MS={providers:[Kb(RS),Ff([ID(()=>wD(ej)),eb(()=>nb())])]};var xS=(()=>{let e=class e{constructor(){this.title="score-table-group-angular"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=tn({type:e,selectors:[["app-root"]],standalone:!0,features:[sn],decls:3,vars:0,consts:[["routerLink","/home","type","button",1,"btn","btn-primary"]],template:function(i,s){i&1&&(q(0,"button",0),le(1,"\u041D\u0430 \u0433\u043B\u0430\u0432\u043D\u0443\u044E"),J(),Ne(2,"router-outlet"))},dependencies:[Uv,Xb,zb]});let t=e;return t})();zE(xS,MS).catch(t=>console.error(t));
